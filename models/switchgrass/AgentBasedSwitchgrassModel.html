<html>
<head>
<title>AgentBased Switchgrass Model</title>
<style type="text/css">
<!--
/*
    This style sheet is borrowed from the NetLogo User Manual.  However, some of the units were
    changed from em to px because Java's StyleSheet support is limited for relative units such as
    em and % (this will supposively improve with newer versions of the VM) - jrn 7/21/05
    BE VERY VERY CAREFUL when you alter this style sheet -- it's possible to put in
    innocent-looking things that work on some VM's but cause Java exceptions on other for example
    we were using "font-size: 125%" but it caused Java exceptions on Java 1.5 on Windows - ST
    8/25/05
*/
:link { color: rgb(110,0,110); }
:visited { color: rgb(110,0,110); }
body {
    margin-left: 5px;
    font-family: arial, sans-serif;
    background: white;
    font-size: 12pt
}
h1 {
    color: white;
    background: rgb(45,0,45);
    font-size: 18pt;
    margin-bottom: 4px;
    padding-left: 6px;
    padding-right: 6px;
    padding-top: 6px;
    padding-bottom: 6px;
}
h2 {
    margin-top: 15px;
    margin-left: 6px;
    margin-bottom: 4px;
    background: rgb(166,172,255);
    font-size: 15pt;
    padding-left: 6px;
    padding-right: 6px;
    padding-top: 6px;
    padding-bottom: 6px;
}
h3 {
    margin-top: 15px;
    margin-left: 13px;
    margin-bottom: 4px;
    background: rgb(175,175,175);
    font-size: 12pt;
    padding: 0.2em;
    padding-left: 6px;
    padding-right: 6px;
    padding-top: 6px;
    padding-bottom: 6px;
}
h4 {
    margin-top: 15px;
    margin-bottom: 5px;
    margin-left: 15px;
    font-size: 12pt;
}
h5 {
    margin-top: 15px;
    margin-left: 15px;
    font-size: 12pt;
}
h6 {
    margin-top: 15px;
    margin-left: 15px;
    font-size: 12pt;
}
p {
    margin-left: 15px;
    margin-bottom: 3px;
}
pre {
    margin-left: 13px;
    background: rgb(225,225,225);
    font-family: monospace;
    font-size: 12pt;
    padding-left: 10px;
    padding-right: 3px;
    padding-top: 7px;
    padding-bottom: 7px;
    margin-top:9px;
    margin-bottom:0px;
}
code {
    font-family: monospace;
    font-size: 12pt;
}
blockquote {
    border: solid;
    border-style: solid;
    border-width: thin;
    border-color: black;
    background: rgb(250,250,220);
    padding-top: 0px;
    padding-bottom: 7px;
    margin-top: 7px;
    margin-bottom:1px;
}
ol {
   margin-bottom:1px;
}
ul {
   margin-bottom:1px;
}

-->
</style>
</head>
<body>

<p>This page was automatically generated by NetLogo 5.0.5.</p>

<p>The applet requires Java 5 or higher.
Java must be enabled in your browser settings.
Mac users must have Mac OS X 10.4 or higher.
Windows and Linux users may obtain the latest Java from
<a href="http://www.java.com/">Oracle's Java site</a>.</p>

<p><hr>

<p><font size="-1">In order for this to work, this file, your model file
(AgentBased Switchgrass Model.nlogo), and the files NetLogoLite.jar and NetLogoLite.jar.pack.gz
must all be in the same directory.  (You can copy NetLogoLite.jar and NetLogoLite.jar.pack.gz
from the directory where you installed NetLogo.)</font></p>

<p><font size="-1">On some systems, you can test the applet locally on your computer
before uploading it to a web server.  It doesn't work on all systems,
though, so if it doesn't work from your hard drive, please try
uploading it to a web server.</font></p>

<p><font size="-1">You don't need to include everything in this file in your page.
If you want, you can just take the HTML code beginning with
&lt;applet&gt; and ending with &lt;/applet&gt;, and paste it into any HTML
file you want.  It's even OK to put multiple &lt;applet&gt; tags
on a single page.</font></p>

<p><font size="-1">If the NetLogoLite files and your model are in different
directories, you must modify the archive= and value= lines
in the HTML code to point to their actual locations.
(For example, if you have multiple applets in different
directories on the same web server, you may want to put
a single copy of the NetLogoLite files in one central place and
change the archive= lines of all the HTML files to point
to that one central copy.  This will save disk space for
you and download time for your users.)</font></p>

<p>
<applet code="org.nlogo.lite.Applet"
        archive="NetLogoLite.jar"
        width="1278" height="698">
  <param name="DefaultModel"
         value="AgentBased%20Switchgrass%20Model.nlogo">
  <param name="java_arguments"
         value="-Djnlp.packEnabled=true">
</applet>
</p>

<p>powered by
<a target="_blank" href="http://ccl.northwestern.edu/netlogo/">NetLogo</a></p>

<p>view/download model file:
<a href="AgentBased%20Switchgrass%20Model.nlogo">AgentBased Switchgrass Model.nlogo</a></p>
<h2>WHAT IS IT?</h2><p>(a general understanding of what the model is trying to show or explain)</p><h2>HOW IT WORKS</h2><p>(what rules the agents use to create the overall behavior of the model)</p><h2>HOW TO USE IT</h2><p>(how to use the model, including a description of each of the items in the Interface tab)</p><h2>THINGS TO NOTICE</h2><p>(suggested things for the user to notice while running the model)</p><h2>THINGS TO TRY</h2><p>(suggested things for the user to try to do (move sliders, switches, etc.) with the model)</p><h2>EXTENDING THE MODEL</h2><p>(suggested things to add or change in the Code tab to make the model more complicated, detailed, accurate, etc.)</p><h2>NETLOGO FEATURES</h2><p>(interesting or unusual features of NetLogo that the model uses, particularly in the Code tab; or where workarounds were needed for missing features)</p><h2>RELATED MODELS</h2><p>(models in the NetLogo Models Library and elsewhere which are of related interest)</p><h2>CREDITS AND REFERENCES</h2><p>(a reference to the model&rsquo;s URL on the web if it has one, as well as any other necessary credits, citations, and links)</p>

<h1>CODE</h1>
<pre><font color="#5a5a5a">;;;;; SWITCHGRASS ADOPTION MODEL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">
</font><font color="#5a5a5a">;; DATE       ;; Ver. ;; By  ;; Comments</font><font color="#000000">
</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">
</font><font color="#5a5a5a">;; 28-10- 2013;; 001  ;; NB  ;; </font><font color="#000000">



</font><font color="#007f69">globals</font><font color="#000000">        [  
                Price_of_base
                Price_of_SG
                SGPriceMem
                
                MaxSGPrice?
                MeanSGPrice?
                MinSGPrice?
                
                FieldToStorageCost
                StorageToRefineryCost
                FieldToRefineryCost
                
                new_sgprice
                new_basecost
                average_age
                average_education
                
                
                
                SG_root
                Area_planted_global
                PropWithSuccessor
                
                PropComputerUse
                </font><font color="#5a5a5a">;  Distance_to_refinery ;; Average distance between farm and fuel refinery ;; </font><font color="#000000">
                
                Co2_Global
                co2_pertonne_km      </font><font color="#5a5a5a">; Amount of CO2 equivalents emitted for transporting one tonne of switchgrass one mile</font><font color="#000000">
                co2_growth            </font><font color="#5a5a5a">; Used to keep a running total of the amount of CO2 equivalents emitted (negative = sequestered) in the entire study area from switchgrass growth</font><font color="#000000">
              
                co2_delivery          </font><font color="#5a5a5a">; Used to keep a running total of the amount of CO2 equivalents emitted in the entire study area from switchgrass delivery from farmers to plants</font><font color="#000000">
                co2_electric_gen       </font><font color="#5a5a5a">; Used to keep a running total of the amount of CO2 equivalents emitted in the entire study area from switchgrass-based electricity generation</font><font color="#000000">
                co2_fuel_gen           </font><font color="#5a5a5a">; Used to keep a running total of the amount of CO2 equivalents emitted in the entire study area from switchgrass-based fuel production/manufacturing</font><font color="#000000">
                co2_fuel_burn          </font><font color="#5a5a5a">; Used to keep a running total of the amount of CO2 equivalents emitted in the entire study area from switchgrass-based fuel combustion</font><font color="#000000">
                co2_per_liter_burn

                co2_gasoline_TFC   </font><font color="#5a5a5a">;per liter</font><font color="#000000">
                co2_corn_etoh_TFC  </font><font color="#5a5a5a">;per liter</font><font color="#000000">
                co2_coal_TFC       </font><font color="#5a5a5a">;per MWh</font><font color="#000000">
                co2_natgas_TFC     </font><font color="#5a5a5a">;per MWh</font><font color="#000000">
               
                Lgas_per_Letoh
                fplantegen       </font><font color="#5a5a5a">;MWh electricity produced by fuel plants per liter of EtOH produced</font><font color="#000000">
               
                market_fuel_supply </font><font color="#5a5a5a">;liters of switchgrass EtOH delivered to the market in this itteration</font><font color="#000000">
                market_MWh_supply  </font><font color="#5a5a5a">;MWH of switchgrass electricity delivered to the market in this itteration</font><font color="#000000">
                       
                net_co2_per_liter   </font><font color="#5a5a5a">;CO2 emissions from conversion of biomass to fuel in tonnes per liter</font><font color="#000000">
                Net_co2_per_tonne
                year_fuel_produced </font><font color="#5a5a5a">;sum of total yearly production in liters</font><font color="#000000">
                year_fuel_transfo_co2    </font><font color="#5a5a5a">;sum of total yearly emissions in tonnes</font><font color="#000000">
                
                liters_per_tonne   </font><font color="#5a5a5a">;conversion rate in liters of EtOH per tonne of switchgrass</font><font color="#000000">
                
                heat_rate         </font><font color="#5a5a5a">;thousand Btu per MWh</font><font color="#000000">
                MWhper_tonne_coal  </font><font color="#5a5a5a">;MWh per tonne coal</font><font color="#000000">
                MWh_per_tonne_sg    </font><font color="#5a5a5a">;MWh per tonne sg</font><font color="#000000">
                tonnes_per_MWh     </font><font color="#5a5a5a">;tonnes of sg per MWh</font><font color="#000000">
                net_co2_per_MWh     </font><font color="#5a5a5a">;CO2 emissions associated with combusting biomass in $ per MWh</font><font color="#000000">
                year_MWh_produced  </font><font color="#5a5a5a">;Total annual generation in MWh</font><font color="#000000">
                year_eplant_co2    </font><font color="#5a5a5a">;Total annual CO2 emissions in tonnes</font><font color="#000000">
                MWh_per_tonne_coal
                heat_content_coal
                heat_content_sg
                
                TotHarvest              </font><font color="#5a5a5a">; Used as a placeholder to quantify the amount of switchgrass harvested</font><font color="#000000">
                trade
               
                ] 

                    </font><font color="#5a5a5a">;; Main agents (turtle)</font><font color="#000000">
</font><font color="#660096">breed</font><font color="#000000">          [ 
                 Be_Farmers Be_Farmer
                 ]
</font><font color="#660096">breed</font><font color="#000000">          [ No_Be_Farmers 
                 No_Be_Farmer
                 ]


</font><font color="#007f69">patches-own</font><font color="#000000">    [
                 SG_yield                    </font><font color="#5a5a5a">;; yield of SG</font><font color="#000000">
                 Base_yield                  </font><font color="#5a5a5a">;; yield of whatever they would be planting instead of SG</font><font color="#000000">
                 Owned-by                    </font><font color="#5a5a5a">;; which farmer owns the field (one patch = one field)</font><font color="#000000">
                 Area_to_plant?              </font><font color="#5a5a5a">;; for the followraing years;;boolean TRUE or FALSE;; will evolve from year to year  </font><font color="#000000">
                 farm_ID]

</font><font color="#007f69">turtles-own</font><font color="#000000">    [
              </font><font color="#5a5a5a">;; Economic attributes</font><font color="#000000">
              
               </font><font color="#5a5a5a">;  farm_color</font><font color="#000000">
                 Fixed_cost_peracre          </font><font color="#5a5a5a">;; Current FC per acre</font><font color="#000000">
                 Total_fixed_cost            </font><font color="#5a5a5a">;; Current TFC    </font><font color="#000000">
                 Variable_cost_peracre       </font><font color="#5a5a5a">;; Current VC per acre</font><font color="#000000">
                 Total_variable_cost         </font><font color="#5a5a5a">;; Current TVC       </font><font color="#000000">
                 Total_cost_peracre          </font><font color="#5a5a5a">;; FC per acre + VC per acre</font><font color="#000000">
                 Total_cost                  </font><font color="#5a5a5a">;; TFC + TVC</font><font color="#000000">
                 Sales_price_SG_peracre      </font><font color="#5a5a5a">;; slider determined by the user in the GUI</font><font color="#000000">
                 Sales_price_Base_peracre
                             
                 Current_revenues            </font><font color="#5a5a5a">;; Current revenues based pre-SG based on base_yield</font><font color="#000000">
                 Current_profit              </font><font color="#5a5a5a">;; Idem; based on current revenues</font><font color="#000000">
                 Potential_revenues          </font><font color="#5a5a5a">;; of planting SG ;; based on SG price</font><font color="#000000">
                 Potential_profit            </font><font color="#5a5a5a">;; of planting SG;; based on potential revenues</font><font color="#000000">
                 Breakeven?                  </font><font color="#5a5a5a">;; TRUE or FALSE;; (Potential prof - Current prof) if TRUE go to next step: generate Interest Score (IS)  </font><font color="#000000">
                 
                 SG_harvested               
                 SG_revenues
                 SG_profit
                 
              </font><font color="#5a5a5a">;; Personal attributes  </font><font color="#000000">
                 age_of_farmer 
                 ageofdeath
                 education
                 computer_use?
                 age_mem
                 successor?
                 
                 risk_aversion
                 farm_successor?
                 Familiarity_with_SG         </font><font color="#5a5a5a">;; Index Randomly distributed (Mean 50; SD 30)    </font><font color="#000000">
                 
                 highra?
                 medra?
                 lowra?
                 
                 
                 
                 highfa?
                 medfa?     
                 lowfa?
                 
                 highis?
                 medis?
                 lowis?
                 
                 highEd?
                 medEd?
                 lowEd?
                 
                 highPotProf?
                 medPotProf?
                 lowPotProf?
                 
                 highPriceSG?
                 medPriceSG?
                 lowPriceSG?
                 
                 highCost?
                 medCost?
                 lowCost?
           
                 
                 On_the_fence?
                 mindchanged?
                 Interest_score              </font><font color="#5a5a5a">;; Score = Familiarity * level_of_financial_risk ;; for the first test year</font><font color="#000000">
                 Happy?                     </font><font color="#5a5a5a">;; happy if they made a profit selling SG (revenues &gt; 0);; On setup, happy? is FALSE for everybody       </font><font color="#000000">
                 
                 Rep?
              </font><font color="#5a5a5a">;; Agricultural attributes</font><font color="#000000">
                 
                 Number_of_fields_owned      </font><font color="#5a5a5a">;; Number of paches owned (just the number)           </font><font color="#000000">
                 Farm_root                   </font><font color="#5a5a5a">;; Center patch where my farm is located, used to color my land (contiguous patches) with the same shade</font><font color="#000000">
                 
           
                 My_farm                     </font><font color="#5a5a5a">;; group of paches owned (agentset)</font><font color="#000000">
                 Parcels_col                 </font><font color="#5a5a5a">;; color of my parcel, used to color the rest of my land with the same color of farm_root</font><font color="#000000">
                 Acres_owned                 </font><font color="#5a5a5a">;; number_of_field_owned * 10 acres</font><font color="#000000">
                 number_of_field_planted
                 
                
                 
                 Plant_SG?                   </font><font color="#5a5a5a">;; TRUE or FALSE</font><font color="#000000">
                 Initial_Percent_of_planting </font><font color="#5a5a5a">;; Random percentage up to 40% of their land</font><font color="#000000">
                 My_percent_increase         </font><font color="#5a5a5a">;; pseudo random percentage of increase; &quot;proportional to profit made&quot;</font><font color="#000000">
                 Percent_of_planting         </font><font color="#5a5a5a">;; Increased Initial percent of planting</font><font color="#000000">
                 SG_planted_ton
                 SG_harvArea
                 
                 Portion_of_planting         </font><font color="#5a5a5a">;; Number of field that will be devoted to SG (just the number)</font><font color="#000000">
                 
                 My_SGplant   
                  my_SGparcel
                              </font><font color="#5a5a5a">;; Number of paches to be planted (agentset)</font><font color="#000000">
                 My_area_planted             </font><font color="#5a5a5a">;; Surface SG plantes in acres</font><font color="#000000">
                 harv?                       </font><font color="#5a5a5a">;; TRUE of FALSE</font><font color="#000000">
                 CollRev?                    </font><font color="#5a5a5a">;; TRUE of FALSE</font><font color="#000000">
                            
                 Memory_planted              </font><font color="#5a5a5a">;; Record the number of field planted (list of number)</font><font color="#000000">
                 Memory_lot_planted          </font><font color="#5a5a5a">;; Record the number of patches planted (list agentset)</font><font color="#000000">
                </font><font color="#5a5a5a">;;temp variables for troubleshotting; to be deleted when model done!;;</font><font color="#000000">
                 BE </font><font color="#5a5a5a">;; list</font><font color="#000000">
                 Distance_to_refinery 
                 TransCost
                 usingStorage?
                 
                
                   
                Myco2_growth            </font><font color="#5a5a5a">; Used to keep a running total of the amount of CO2 equivalents emitted (negative = sequestered) in the entire study area from switchgrass growth         </font><font color="#000000">
                Myco2_delivery          </font><font color="#5a5a5a">; Used to keep a running total of the amount of CO2 equivalents emitted in the entire study area from switchgrass delivery from farmers to plants</font><font color="#000000">
                Myco2_electric_gen       </font><font color="#5a5a5a">; Used to keep a running total of the amount of CO2 equivalents emitted in the entire study area from switchgrass-based electricity generation</font><font color="#000000">
                Myco2_fuel_gen           </font><font color="#5a5a5a">; Used to keep a running total of the amount of CO2 equivalents emitted in the entire study area from switchgrass-based fuel production/manufacturing</font><font color="#000000">
                Myco2_fuel_burn          </font><font color="#5a5a5a">; Used to keep a running total of the amount of CO2 equivalents emitted in the entire study area from switchgrass-based fuel combustion</font><font color="#000000">
               
                Myyear_fuel_transfo_co2
                Myyear_eplant_co2
                
                DistFieldToRefinery 
                DistFieldToStorage
                DistStorageToRefinery
                 ]


</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">
</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;SETUP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SETUP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SETUP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">
</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> setup
  
  </font><font color="#5a5a5a">;; (for this model to work with NetLogo's new plotting features,</font><font color="#000000">
  </font><font color="#5a5a5a">;; __clear-all-and-reset-ticks should be replaced with clear-all at</font><font color="#000000">
  </font><font color="#5a5a5a">;; the beginning of your setup procedure and reset-ticks at the end</font><font color="#000000">
  </font><font color="#5a5a5a">;; of the procedure.)</font><font color="#000000">
  </font><font color="#5a5a5a">;if ticks mod = 3 [go]</font><font color="#000000">
  </font><font color="#0000aa">__clear-all-and-reset-ticks</font><font color="#000000">
  
</font><font color="#5a5a5a">;set snapshot-directory user-directory</font><font color="#000000">
  setup-patches-and-create-turtles
  set-farmer-attributes
  
  </font><font color="#0000aa">set</font><font color="#000000"> PropWithSuccessor </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">0.4</font><font color="#000000"> </font><font color="#963700">0.05</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> PropComputerUse </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">0.6</font><font color="#000000"> </font><font color="#963700">0.05</font><font color="#000000">
  
  </font><font color="#0000aa">set</font><font color="#000000"> Price_of_base </font><font color="#660096">precision</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">350</font><font color="#000000"> </font><font color="#963700">50</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> Price_of_SG </font><font color="#660096">precision</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">350</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">
  
  </font><font color="#0000aa">set</font><font color="#000000"> SGPriceMem []
 
  </font><font color="#0000aa">set</font><font color="#000000"> Area_planted_global </font><font color="#660096">sum</font><font color="#000000"> [My_area_planted] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
 
  </font><font color="#0000aa">set</font><font color="#000000"> Co2_Global </font><font color="#660096">sum</font><font color="#000000"> [Co2_total_from_SG] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
 
  </font><font color="#0000aa">set</font><font color="#000000"> co2_pertonne_km   </font><font color="#963700">0.00017623926144</font><font color="#000000">      </font><font color="#5a5a5a">; (0.00010951 miles)= (0.0094 gal diesel/tonne mile) * (25,630 lbs TFC CO2 emissions/ 1000 gal) * (1 tonne / 2200 lbs)</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> co2_fuel_burn     </font><font color="#963700">0.001507</font><font color="#000000">        </font><font color="#5a5a5a">;tonnes CO2 per liter ethanol, Ethanol = (789 g EtOH/L) / (46.07 g EtOH / mol EtOH) * (2 mol CO2 / mol EtOH) * (44 g CO2 / mol CO2) * (1 tonne / 1,000,000 g)</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> co2_gasoline_TFC  </font><font color="#963700">0.00297</font><font color="#000000">          </font><font color="#5a5a5a">;tonnes CO2 per liter http://solar.gwu.edu/index_files/Resources_files/LCA_for_PHEVs.pdf</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> co2_corn_etoh_TFC </font><font color="#963700">0.003</font><font color="#000000">            </font><font color="#5a5a5a">;tonnes CO2 per liter Source</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> co2_coal_TFC      </font><font color="#963700">1.05</font><font color="#000000">             </font><font color="#5a5a5a">;tonnes CO2 per MWh (Meta-analysis of TFC emissions) Benjamin K. Sovacool. Valuing the greenhouse gas emissions from nuclear power: A critical survey. Energy Policy, Vol. 36, 2008, p. 2950.</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> co2_natgas_TFC    </font><font color="#963700">0.443</font><font color="#000000">            </font><font color="#5a5a5a">;tonnes CO2 per MWh (Meta-analysis of TFC emissions) Benjamin K. Sovacool. Valuing the greenhouse gas emissions from nuclear power: A critical survey. Energy Policy, Vol. 36, 2008, p. 2950.</font><font color="#000000">
</font><font color="#5a5a5a">;  set co2delivery (co2delivery + (trade * co2pertonnemile * disttoe)) ;using the distance to the electric plant, calculate the transportation CO2 emissions and add them to the running total for co2delivery</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> Lgas_per_Letoh    </font><font color="#963700">1.4678</font><font color="#000000">             </font><font color="#5a5a5a">;Heat content conversion rate (One gallon of gasoline has 1.4678 x the energy content of one liter of EtOH)</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> fplantegen        </font><font color="#963700">0.00007407</font><font color="#000000">         </font><font color="#5a5a5a">;GREET in MWh per L EtOH ; (0.26 kWH/gal EtOH) * (1 gal EtOH / 3.78 L EtOH) * (1 MWh / 1000 kWh)</font><font color="#000000">

  </font><font color="#0000aa">set</font><font color="#000000"> heat_content_sg   </font><font color="#963700">20935</font><font color="#000000">             </font><font color="#5a5a5a">;MJ/tonne</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> heat_content_coal </font><font color="#963700">20000</font><font color="#000000"> </font><font color="#5a5a5a">;;btu per lb</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> liters_per_tonne </font><font color="#660096">floor</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">320</font><font color="#000000"> </font><font color="#963700">20</font><font color="#000000">                   </font><font color="#5a5a5a">;sets the yield of fuel (in liters) that can be produced per tonne of switchgrass input (normal distribution)</font><font color="#000000">
 
  </font><font color="#0000aa">set</font><font color="#000000"> heat_rate </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">11.6</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">  </font><font color="#5a5a5a">;MJ/kWh (1.0551 * kbtu/kWh) -- Sets the heatrate of the plant   </font><font color="#000000">
 
  </font><font color="#0000aa">set</font><font color="#000000"> MWh_per_tonne_coal (heat_content_coal </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">2.326</font><font color="#000000">) </font><font color="#660096">/</font><font color="#000000"> (</font><font color="#963700">1000</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> heat_rate)   </font><font color="#5a5a5a">;1 btu/lb = 2.326 MJ/tonne -- Calculates the MWh produced from one tonne of coal</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> MWh_per_tonne_sg (heat_content_sg </font><font color="#660096">/</font><font color="#000000"> (</font><font color="#963700">1000</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> heat_rate))                 </font><font color="#5a5a5a">;Calculates the MWh produced from one tnne of switchgrass</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> tonnes_per_MWh (</font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">/</font><font color="#000000"> MWH_per_tonne_sg) 
 
  </font><font color="#0000aa">set</font><font color="#000000"> net_co2_per_MWh   </font><font color="#963700">0.946</font><font color="#000000">                   </font><font color="#5a5a5a">;tonnes CO2e per MWH = (946 g/kWh) * (1000 kWh / 1 MWh) * (1 tonne / 1,000,000 g)</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> Net_co2_per_tonne </font><font color="#963700">-1.097</font><font color="#000000">                                  </font><font color="#5a5a5a">;Source: GREET (tonnes of CO2 emitted [negative value = sequestered] per tonne of switchgrass during growth phase only). Note this value is slightly highraer than 1 due to extra carbon sequestration in the soil.</font><font color="#000000">
 
  </font><font color="#0000aa">set</font><font color="#000000"> FieldToStorageCost </font><font color="#963700">1.22</font><font color="#000000"> </font><font color="#5a5a5a">; dollars per tonne ;;http://www.extension.iastate.edu/agdm/crops/pdf/a1-22.pdf</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> StorageToRefineryCost </font><font color="#963700">0.2883</font><font color="#000000"> </font><font color="#5a5a5a">;dollars per tonne;;;http://www.extension.iastate.edu/agdm/crops/pdf/a1-22.pdf</font><font color="#000000">
  
  </font><font color="#0000aa">set</font><font color="#000000"> FieldToRefineryCost </font><font color="#963700">0.14</font><font color="#000000"> </font><font color="#5a5a5a">;dollars per tonne ;;;http://www.sciencedirect.com/science/article/pii/S0960852410018006</font><font color="#000000">
export-data
</font><font color="#5a5a5a">;export-dataShort</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">


</font><font color="#007f69">to</font><font color="#000000"> setup-patches-and-create-turtles
  
   </font><font color="#0000aa">set-default-shape</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">&quot;farm&quot;</font><font color="#000000">
   </font><font color="#0000aa">create-turtles</font><font color="#000000"> initial-number-of-farmers 
   [
   </font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#660096">random-pxcor</font><font color="#000000"> </font><font color="#660096">random-pycor</font><font color="#000000">
    </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">any?</font><font color="#000000"> </font><font color="#660096">other</font><font color="#000000"> </font><font color="#660096">turtles-here</font><font color="#000000"> [ </font><font color="#0000aa">move-to</font><font color="#000000"> </font><font color="#660096">one-of</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [ </font><font color="#660096">not</font><font color="#000000"> </font><font color="#660096">any?</font><font color="#000000"> </font><font color="#660096">turtles-here</font><font color="#000000"> ] ]
    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">brown</font><font color="#000000"> 
    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label-color</font><font color="#000000"> </font><font color="#963700">black</font><font color="#000000">
       
    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">43</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">5</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> farm_root </font><font color="#660096">patch-here</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> parcels_col [</font><font color="#660096">pcolor</font><font color="#000000">] </font><font color="#660096">of</font><font color="#000000"> farm_root  
   </font><font color="#0000aa">set</font><font color="#000000"> average_age </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">55</font><font color="#000000"> </font><font color="#963700">5</font><font color="#000000">
   </font><font color="#0000aa">set</font><font color="#000000"> ageofdeath </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">75</font><font color="#000000"> </font><font color="#963700">5</font><font color="#000000">
   </font><font color="#0000aa">set</font><font color="#000000"> average_education </font><font color="#963700">1</font><font color="#000000">  </font><font color="#5a5a5a">;;post high-school</font><font color="#000000">
   </font><font color="#0000aa">set</font><font color="#000000"> successor? </font><font color="#963700">FALSE</font><font color="#000000">
   
 </font><font color="#5a5a5a">;   set Distance_to_refinery random-normal 60 40</font><font color="#000000">
    
   </font><font color="#0000aa">set</font><font color="#000000"> DistFieldToRefinery </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">60</font><font color="#000000"> </font><font color="#963700">20</font><font color="#000000">
   </font><font color="#0000aa">set</font><font color="#000000"> DistFieldToStorage </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">20</font><font color="#000000"> </font><font color="#963700">10</font><font color="#000000">
   </font><font color="#0000aa">set</font><font color="#000000"> DistStorageToRefinery </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">50</font><font color="#000000"> </font><font color="#963700">20</font><font color="#000000">
   </font><font color="#5a5a5a">; set mindchanged? FALSE</font><font color="#000000">
   </font><font color="#5a5a5a">;set computer_use? FALSE</font><font color="#000000">
   
                                  
   </font><font color="#5a5a5a">; set average_age 35 </font><font color="#000000">
  
    </font><font color="#0000aa">set</font><font color="#000000"> age_mem []
    </font><font color="#0000aa">set</font><font color="#000000"> memory_planted [] 
    </font><font color="#0000aa">set</font><font color="#000000"> memory_lot_planted []
    
   </font><font color="#5a5a5a">;set Plant_SG? FALSE</font><font color="#000000">
   </font><font color="#5a5a5a">; set harv? FALSE                      </font><font color="#000000">
   </font><font color="#5a5a5a">; set CollRev? FALSE</font><font color="#000000">
   </font><font color="#5a5a5a">; set Rep? FALSE</font><font color="#000000">
   ]

  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000">
    [
     </font><font color="#0000aa">set</font><font color="#000000"> owned-by </font><font color="#660096">min-one-of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> [</font><font color="#660096">distance</font><font color="#000000"> </font><font color="#660096">myself</font><font color="#000000">]    
     </font><font color="#0000aa">set</font><font color="#000000"> SG_yield </font><font color="#963700">2.5</font><font color="#000000"> </font><font color="#5a5a5a">;; ton per acre</font><font color="#000000">
     </font><font color="#0000aa">set</font><font color="#000000"> base_yield </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"> </font><font color="#963700">0.5</font><font color="#000000">
     </font><font color="#0000aa">set</font><font color="#000000"> area_to_plant? </font><font color="#963700">FALSE</font><font color="#000000">
    ]                    
    </font><font color="#5a5a5a">;; turtle owns patches it's nearest to</font><font color="#000000">

</font><font color="#007f69">end</font><font color="#000000">   

</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">
</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;GO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">
</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> go
  
 farmer-decision-start-point
 </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">  [</font><font color="#0000aa">ifelse</font><font color="#000000"> learn? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000"> [learn_from_neighbors] []
   ]

</font><font color="#5a5a5a">;if Price_shock? [shock_price]</font><font color="#000000">
</font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> [</font><font color="#0000aa">if</font><font color="#000000"> commodity_shock? [commodity_shock]]

   update-attributes
   update_patches
   defineeffect
   update_effect
update_global
</font><font color="#5a5a5a">;CountPlantbySGprice</font><font color="#000000">
</font><font color="#5a5a5a">;ask turtles [if Transp_Scenarios [Transportation_Scenarios]]</font><font color="#000000">
</font><font color="#5a5a5a">;exportview</font><font color="#000000">
</font><font color="#5a5a5a">;ask patches [recolor]   </font><font color="#000000">

 </font><font color="#5a5a5a">; export-files</font><font color="#000000">
  </font><font color="#5a5a5a">;export-filesShort</font><font color="#000000">
</font><font color="#5a5a5a">;if ticks mod 10 = 0 [export-view (word &quot;View-on-tick-&quot; ticks &quot;.png&quot;)]</font><font color="#000000">

</font><font color="#5a5a5a">;export-view (word &quot;View-on-tick-&quot; ticks &quot;.eps&quot;)</font><font color="#000000">
</font><font color="#5a5a5a">; if record-movie?</font><font color="#000000">
</font><font color="#5a5a5a">;  [update-movie]</font><font color="#000000">
  </font><font color="#0000aa">tick</font><font color="#000000">
  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">50</font><font color="#000000"> [</font><font color="#0000aa">stop</font><font color="#000000">]

</font><font color="#007f69">end</font><font color="#000000">           


</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">
</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;PROCEDURES;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;PROCEDURES;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;PROCEDURES;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">
</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">

</font><font color="#5a5a5a">;; setting farmers attributes</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> set-farmer-attributes
  
  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
   [
     </font><font color="#0000aa">set</font><font color="#000000"> age_of_farmer </font><font color="#660096">precision</font><font color="#000000"> (</font><font color="#660096">random-normal</font><font color="#000000"> average_age </font><font color="#963700">10</font><font color="#000000">) </font><font color="#963700">0</font><font color="#000000">
     </font><font color="#5a5a5a">; set average_education 1  ;;post high-school</font><font color="#000000">
     </font><font color="#0000aa">set</font><font color="#000000"> education </font><font color="#660096">random-normal</font><font color="#000000"> average_education </font><font color="#963700">3</font><font color="#000000">
     
  </font><font color="#5a5a5a">; ask n-of (PropComputerUse * count turtles ) turtles [ set computer_use? TRUE ]  </font><font color="#000000">

  </font><font color="#0000aa">set</font><font color="#000000"> risk_aversion (age_of_farmer </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">0.9</font><font color="#000000"> </font><font color="#963700">0.3</font><font color="#000000">) </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000">
        (</font><font color="#0000aa">if</font><font color="#000000"> (age_of_farmer </font><font color="#660096">&lt;</font><font color="#000000"> average_age) [</font><font color="#0000aa">set</font><font color="#000000"> risk_aversion risk_aversion </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">0.1</font><font color="#000000">])
        
  </font><font color="#5a5a5a">;  if (computer_use? = TRUE) [    </font><font color="#000000">
        </font><font color="#0000aa">set</font><font color="#000000"> familiarity_with_SG (age_of_farmer </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">) </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">10</font><font color="#000000">
        </font><font color="#5a5a5a">;]</font><font color="#000000">
        (</font><font color="#0000aa">if</font><font color="#000000"> (age_of_farmer </font><font color="#660096">&lt;</font><font color="#000000"> average_age) [</font><font color="#0000aa">set</font><font color="#000000"> familiarity_with_SG familiarity_with_SG </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">])
        
   </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">n-of</font><font color="#000000"> (PropWithSuccessor </font><font color="#660096">*</font><font color="#000000"> </font><font color="#660096">count</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> ) </font><font color="#660096">turtles</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> successor? </font><font color="#963700">TRUE</font><font color="#000000"> ]   
    
 
    
    </font><font color="#0000aa">set</font><font color="#000000"> number_of_fields_owned </font><font color="#660096">count</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [ owned-by </font><font color="#660096">=</font><font color="#000000"> </font><font color="#660096">myself</font><font color="#000000"> ]
    </font><font color="#0000aa">set</font><font color="#000000"> my_farm </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [ owned-by </font><font color="#660096">=</font><font color="#000000"> </font><font color="#660096">myself</font><font color="#000000">]
    </font><font color="#0000aa">ask</font><font color="#000000"> my_farm [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> [parcels_col] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">myself</font><font color="#000000">]
    </font><font color="#0000aa">set</font><font color="#000000"> acres_owned number_of_fields_owned </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">10</font><font color="#000000"> </font><font color="#5a5a5a">;; 6 acres per patch</font><font color="#000000">
    
    </font><font color="#0000aa">set</font><font color="#000000"> variable_cost_peracre </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">250</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000"> </font><font color="#5a5a5a">;;V</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> Total_variable_cost variable_cost_peracre </font><font color="#660096">*</font><font color="#000000"> acres_owned 
    
    </font><font color="#0000aa">set</font><font color="#000000"> fixed_cost_peracre  </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000"> </font><font color="#963700">50</font><font color="#000000"> </font><font color="#5a5a5a">;;;F;; per acre</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> total_fixed_cost  fixed_cost_peracre </font><font color="#660096">*</font><font color="#000000"> acres_owned
    
    </font><font color="#0000aa">set</font><font color="#000000"> Total_cost_peracre </font><font color="#660096">precision</font><font color="#000000"> (fixed_cost_peracre </font><font color="#660096">+</font><font color="#000000"> variable_cost_peracre) </font><font color="#963700">0</font><font color="#000000">
    
    </font><font color="#0000aa">set</font><font color="#000000"> Total_cost </font><font color="#660096">precision</font><font color="#000000"> (total_fixed_cost </font><font color="#660096">+</font><font color="#000000"> Total_variable_cost) </font><font color="#963700">0</font><font color="#000000">
    
      </font><font color="#5a5a5a">;SG;;;;</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> Sales_price_SG_peracre  price_of_SG</font><font color="#5a5a5a">;;S;; formula BEunit= F/(S-V);; $ BEdollars=BEunit*S </font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> Potential_revenues SG_yield </font><font color="#660096">*</font><font color="#000000"> acres_owned </font><font color="#660096">*</font><font color="#000000"> price_of_SG
    </font><font color="#0000aa">set</font><font color="#000000"> Potential_profit Potential_revenues </font><font color="#660096">-</font><font color="#000000"> Total_cost
    
   </font><font color="#5a5a5a">;;Base;;;</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> Sales_price_Base_peracre  price_of_base</font><font color="#5a5a5a">;;S;; formula BEunit= F/(S-V);; $ BEdollars=BEunit*S </font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> current_revenues base_yield </font><font color="#660096">*</font><font color="#000000"> acres_owned </font><font color="#660096">*</font><font color="#000000"> price_of_base  
    </font><font color="#0000aa">set</font><font color="#000000"> Current_profit current_revenues </font><font color="#660096">-</font><font color="#000000"> Total_cost
    
  </font><font color="#5a5a5a">;;be;;  </font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> BE Potential_profit </font><font color="#660096">-</font><font color="#000000"> Current_profit
    
    </font><font color="#0000aa">set</font><font color="#000000"> initial_Percent_of_planting </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">0.4</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> my_percent_increase </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">.3</font><font color="#000000">  
    
  </font><font color="#5a5a5a">; set Distance_to_refinery random-normal 60 40</font><font color="#000000">
    

]
  
  
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> farmer-decision-start-point
</font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
 [ 
  </font><font color="#0000aa">ifelse</font><font color="#000000"> Potential_profit </font><font color="#660096">&gt;=</font><font color="#000000"> Current_Profit
      [ 
        </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">Breed</font><font color="#000000"> Be_farmers  </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">135</font><font color="#5a5a5a">; set size 1</font><font color="#000000">
        calculate_interest_score
        ]
      [
        </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">Breed</font><font color="#000000"> No_be_farmers </font><font color="#5a5a5a">;set size 2</font><font color="#000000">
      ]
   ]
  
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> calculate_interest_score
  </font><font color="#0000aa">set</font><font color="#000000"> interest_score (Familiarity_with_SG </font><font color="#660096">*</font><font color="#000000"> risk_aversion) 
     </font><font color="#0000aa">ifelse</font><font color="#000000"> interest_score </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [Interest_score] </font><font color="#660096">of</font><font color="#000000"> be_farmers 
           [
             </font><font color="#0000aa">set</font><font color="#000000"> Plant_SG? </font><font color="#963700">TRUE</font><font color="#000000"> 
            Plant_SG </font><font color="#5a5a5a">;set size 3</font><font color="#000000">
             ]
            []
            
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> Plant_SG

 </font><font color="#0000aa">ifelse</font><font color="#000000"> Plant_SG? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000"> 
    [ 
  </font><font color="#0000aa">set</font><font color="#000000"> portion_of_planting </font><font color="#660096">precision</font><font color="#000000"> (number_of_fields_owned </font><font color="#660096">*</font><font color="#000000"> percent_of_planting) </font><font color="#963700">0</font><font color="#000000">
  
     </font><font color="#0000aa">set</font><font color="#000000"> My_SGplant </font><font color="#660096">n-of</font><font color="#000000"> portion_of_planting my_farm </font><font color="#5a5a5a">;; number of patches</font><font color="#000000">
     </font><font color="#0000aa">ask</font><font color="#000000"> My_SGplant 
        [ 
       </font><font color="#0000aa">set</font><font color="#000000"> area_to_plant? </font><font color="#963700">TRUE</font><font color="#000000"> 
       recolor ]
     </font><font color="#0000aa">set</font><font color="#000000"> number_of_field_planted </font><font color="#660096">count</font><font color="#000000"> my_SGplant  </font><font color="#660096">with</font><font color="#000000"> [ area_to_plant? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000"> ]</font><font color="#5a5a5a">;;</font><font color="#000000">
     </font><font color="#0000aa">set</font><font color="#000000"> My_area_planted number_of_field_planted </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">10</font><font color="#000000"> </font><font color="#5a5a5a">;; surface planted</font><font color="#000000">
      </font><font color="#0000aa">set</font><font color="#000000"> SG_planted_ton My_area_planted </font><font color="#660096">*</font><font color="#000000"> SG_yield </font><font color="#5a5a5a">;; ton planted</font><font color="#000000">
     </font><font color="#5a5a5a">; recolor</font><font color="#000000">
     </font><font color="#0000aa">set</font><font color="#000000"> harv? </font><font color="#963700">TRUE</font><font color="#000000">
     harvest_SG
    
     ]  
    []

</font><font color="#007f69">end</font><font color="#000000"> 



</font><font color="#007f69">to</font><font color="#000000"> harvest_SG
 
  </font><font color="#0000aa">set</font><font color="#000000"> co2_growth </font><font color="#963700">0</font><font color="#000000">                              </font><font color="#5a5a5a">;clear previous year's growth from short-term memory variabl</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> co2_growth co2_growth </font><font color="#660096">+</font><font color="#000000"> (SG_planted_ton  </font><font color="#660096">*</font><font color="#000000"> Net_co2_per_tonne ) </font><font color="#5a5a5a">;adds current farmers sequestration to the running total variable &quot;co2growth&quot; for all farmer</font><font color="#000000">
  
  </font><font color="#0000aa">set</font><font color="#000000"> Myco2_growth SG_planted_ton </font><font color="#660096">*</font><font color="#000000"> Net_co2_per_tonne  </font><font color="#5a5a5a">;adds current farmers sequestration to the running total variable &quot;co2growth&quot; for all farmer</font><font color="#000000">

  </font><font color="#0000aa">set</font><font color="#000000"> SG_harvArea My_area_planted </font><font color="#660096">*</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">0.8</font><font color="#000000"> </font><font color="#963700">0.1</font><font color="#000000"> </font><font color="#5a5a5a">;; surface acres harvested with rate loss</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> SG_harvested SG_harvArea </font><font color="#660096">*</font><font color="#000000"> SG_yield </font><font color="#5a5a5a">;; ton harvested with rate of loss</font><font color="#000000">

  </font><font color="#0000aa">set</font><font color="#000000"> collRev? </font><font color="#963700">TRUE</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> area_to_plant? </font><font color="#963700">FALSE</font><font color="#000000">
  
  </font><font color="#0000aa">set</font><font color="#000000"> TotHarvest </font><font color="#660096">sum</font><font color="#000000"> [SG_planted_ton] </font><font color="#660096">of</font><font color="#000000"> be_farmers    </font><font color="#5a5a5a">;calculates that year's total switchgrass harvest</font><font color="#000000">
    
  recolor
        Collect_revenues
       </font><font color="#5a5a5a">; transport</font><font color="#000000">
        Transp_Scen

</font><font color="#007f69">end</font><font color="#000000">


</font><font color="#007f69">to</font><font color="#000000"> transport 
  </font><font color="#0000aa">set</font><font color="#000000"> co2_delivery </font><font color="#963700">0</font><font color="#000000">
 </font><font color="#5a5a5a">;  set co2delivery (co2delivery + (trade * co2pertonnemile * disttoe)) ;using the distance to the electric plant, calculate the transportation CO2 emissions and add them to the running total for co2delivery</font><font color="#000000">

  </font><font color="#0000aa">set</font><font color="#000000"> co2_delivery ( co2_delivery </font><font color="#660096">+</font><font color="#000000"> (trade </font><font color="#660096">*</font><font color="#000000"> co2_pertonne_km </font><font color="#660096">*</font><font color="#000000"> Distance_to_refinery)) </font><font color="#5a5a5a">;using the distance to the fuel plant, calculate the transportation CO2 emissions and add them to the running total for co2delivery </font><font color="#000000">
 </font><font color="#0000aa">set</font><font color="#000000"> Myco2_delivery SG_harvested  </font><font color="#660096">*</font><font color="#000000"> co2_pertonne_km </font><font color="#660096">*</font><font color="#000000"> Distance_to_refinery
  calculate_SGEnerg_production_use  
</font><font color="#007f69">end</font><font color="#000000"> 


</font><font color="#007f69">to</font><font color="#000000"> Transp_Scen  
 </font><font color="#0000aa">set</font><font color="#000000"> co2_delivery </font><font color="#963700">0</font><font color="#000000">
 
 </font><font color="#0000aa">if</font><font color="#000000"> Transp_Scenarios </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;FieldtoRefinery&quot;</font><font color="#000000">
 [
  </font><font color="#0000aa">set</font><font color="#000000"> co2_delivery co2_delivery </font><font color="#660096">+</font><font color="#000000"> (SG_harvested  </font><font color="#660096">*</font><font color="#000000"> co2_pertonne_km </font><font color="#660096">*</font><font color="#000000"> DistFieldToRefinery)   
  </font><font color="#0000aa">set</font><font color="#000000"> TransCost FieldToRefineryCost </font><font color="#660096">*</font><font color="#000000"> SG_harvested </font><font color="#660096">*</font><font color="#000000"> DistFieldToRefinery
  
  </font><font color="#0000aa">set</font><font color="#000000"> Myco2_delivery SG_harvested  </font><font color="#660096">*</font><font color="#000000"> co2_pertonne_km </font><font color="#660096">*</font><font color="#000000"> DistFieldToRefinery 
  
  </font><font color="#0000aa">set</font><font color="#000000"> usingStorage? </font><font color="#963700">false</font><font color="#000000">
  ]
  
  </font><font color="#0000aa">if</font><font color="#000000"> Transp_Scenarios </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;FieldtoStorageandRefinery&quot;</font><font color="#000000">
  [
   </font><font color="#0000aa">set</font><font color="#000000"> co2_delivery co2_delivery </font><font color="#660096">+</font><font color="#000000"> (SG_harvested  </font><font color="#660096">*</font><font color="#000000"> co2_pertonne_km </font><font color="#660096">*</font><font color="#000000"> (DistFieldToStorage </font><font color="#660096">+</font><font color="#000000"> DistStorageToRefinery))
   </font><font color="#0000aa">set</font><font color="#000000"> TransCost (FieldToStorageCost </font><font color="#660096">+</font><font color="#000000"> StorageToRefineryCost) </font><font color="#660096">*</font><font color="#000000"> SG_harvested </font><font color="#660096">*</font><font color="#000000"> Distance_to_refinery
   
   </font><font color="#0000aa">set</font><font color="#000000"> Myco2_delivery SG_harvested  </font><font color="#660096">*</font><font color="#000000"> co2_pertonne_km </font><font color="#660096">*</font><font color="#000000"> DistFieldToStorage </font><font color="#660096">+</font><font color="#000000"> DistStorageToRefinery
   
   </font><font color="#0000aa">set</font><font color="#000000"> usingStorage? </font><font color="#963700">true</font><font color="#000000">
   ]
 </font><font color="#0000aa">set</font><font color="#000000"> Myco2_delivery SG_harvested  </font><font color="#660096">*</font><font color="#000000"> co2_pertonne_km </font><font color="#660096">*</font><font color="#000000"> (DistFieldToStorage </font><font color="#660096">+</font><font color="#000000"> DistStorageToRefinery)
 calculate_SGEnerg_production_use 
</font><font color="#007f69">end</font><font color="#000000"> 


</font><font color="#007f69">to</font><font color="#000000"> Collect_revenues
  </font><font color="#0000aa">set</font><font color="#000000"> SG_revenues SG_harvested </font><font color="#660096">*</font><font color="#000000"> price_of_SG </font><font color="#5a5a5a">;; in dollars</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> SG_profit </font><font color="#660096">precision</font><font color="#000000"> (SG_revenues </font><font color="#660096">-</font><font color="#000000"> (Total_cost_peracre </font><font color="#660096">*</font><font color="#000000"> My_area_planted)) </font><font color="#963700">0</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> Rep? </font><font color="#963700">TRUE</font><font color="#000000">
  </font><font color="#0000aa">ask</font><font color="#000000"> be_farmers </font><font color="#660096">with</font><font color="#000000"> [Rep? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">] [replant?]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> replant?
  </font><font color="#0000aa">ifelse</font><font color="#000000"> SG_profit </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> 
        [</font><font color="#0000aa">set</font><font color="#000000"> happy? </font><font color="#963700">TRUE</font><font color="#000000">]
        [</font><font color="#0000aa">set</font><font color="#000000"> happy? </font><font color="#963700">FALSE</font><font color="#000000">]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> learn_from_neighbors

  </font><font color="#0000aa">ask</font><font color="#000000"> be_farmers </font><font color="#660096">with</font><font color="#000000"> [Plant_SG? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">true</font><font color="#000000">]
  
      [ 
        </font><font color="#0000aa">set</font><font color="#000000"> On_the_fence? </font><font color="#963700">TRUE</font><font color="#000000">
        </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">count</font><font color="#000000"> be_farmers </font><font color="#660096">in-radius</font><font color="#000000"> influence_radius </font><font color="#660096">with</font><font color="#000000"> [happy? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">] </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#660096">count</font><font color="#000000"> be_farmers </font><font color="#660096">in-radius</font><font color="#000000"> influence_radius </font><font color="#660096">with</font><font color="#000000"> [happy? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">FALSE</font><font color="#000000">]
        [
            Plant_SG</font><font color="#5a5a5a">; set size 2; print who print &quot;I have changed to&quot; print breed</font><font color="#000000">
            </font><font color="#0000aa">set</font><font color="#000000"> mindchanged? </font><font color="#963700">TRUE</font><font color="#000000">
           
        ]
      ]
     
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> recolor
  </font><font color="#0000aa">ifelse</font><font color="#000000"> area_to_plant? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000"> 
        [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">53</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">5</font><font color="#000000">]
       [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">43</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">6</font><font color="#000000">]
</font><font color="#007f69">end</font><font color="#000000">



</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">
</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">
</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;  script for producing fuel and electricity from the delivered switchgrass  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">
</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">
</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> calculate_SGEnerg_production_use                                                    </font><font color="#5a5a5a">;</font><font color="#000000">
   
  </font><font color="#0000aa">set</font><font color="#000000"> co2_fuel_gen </font><font color="#963700">0</font><font color="#000000">                                              </font><font color="#5a5a5a">;clear the previous year's running total of co2 from fuel generation from memeory</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> market_fuel_supply </font><font color="#963700">0</font><font color="#000000">                                        </font><font color="#5a5a5a">;clear the previous year's running total of fuel supplied to the market from memory</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> co2_electric_gen </font><font color="#963700">0</font><font color="#000000">                                          </font><font color="#5a5a5a">;clear the previous year's running totatl of co2 from electricity generation from memory</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> market_MWh_supply </font><font color="#963700">0</font><font color="#000000">                                         </font><font color="#5a5a5a">;clear the previous year's running total of electricity supplied to the market from memory</font><font color="#000000">
  
  </font><font color="#0000aa">set</font><font color="#000000"> year_fuel_produced  (Total_Harvested_ton </font><font color="#660096">*</font><font color="#000000">  liters_per_tonne)       </font><font color="#5a5a5a">;calculate the liters of fuel that will be produced this year based on the amount of switchgrass on hand</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> market_fuel_supply (market_fuel_supply </font><font color="#660096">+</font><font color="#000000"> year_fuel_produced)  </font><font color="#5a5a5a">;add that plant's annual output to the running total for the entire fuel market</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> year_fuel_transfo_co2 (net_co2_per_liter </font><font color="#660096">*</font><font color="#000000">  year_fuel_produced)       </font><font color="#5a5a5a">;calcuate the co2 produced for that particular plant during fuel production</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> co2_fuel_gen (co2_fuel_gen </font><font color="#660096">+</font><font color="#000000"> year_fuel_transfo_co2)                 </font><font color="#5a5a5a">;add that plant's co2 emissions to the running total for all fuel plants</font><font color="#000000">
                            
  </font><font color="#0000aa">set</font><font color="#000000"> year_MWh_produced (Total_Harvested_ton </font><font color="#660096">/</font><font color="#000000"> tonnes_per_MWh )          </font><font color="#5a5a5a">;calculate the MWh that will be produced this year based on the amout of switchgrass on hand</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> market_MWh_supply (market_MWh_supply </font><font color="#660096">+</font><font color="#000000"> year_MWh_produced)     </font><font color="#5a5a5a">;add that particular plant's electricty generation to the running total for the entire electric market</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> year_eplant_co2 (net_co2_per_MWh </font><font color="#660096">*</font><font color="#000000"> year_MWh_produced)          </font><font color="#5a5a5a">;calculate the co2 produced from that particular plant while generating electricity from switchgrass</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> co2_electric_gen (co2_electric_gen </font><font color="#660096">+</font><font color="#000000"> year_eplant_co2)         </font><font color="#5a5a5a">;add that plant's co2 emissions to the running total for all electric plants</font><font color="#000000">
  
  </font><font color="#0000aa">set</font><font color="#000000"> co2_fuel_burn (market_fuel_supply </font><font color="#660096">*</font><font color="#000000"> co2_per_liter_burn) </font><font color="#5a5a5a">;calculate the emissions from fuel combustion based on the amount of fuel produced from fuel plants. Note this assumes that all fuel produced in a year is burned in that same year.</font><font color="#000000">

</font><font color="#5a5a5a">;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;  </font><font color="#000000">

 </font><font color="#0000aa">set</font><font color="#000000"> Myyear_fuel_transfo_co2 (net_co2_per_liter </font><font color="#660096">*</font><font color="#000000">  year_fuel_produced)       </font><font color="#5a5a5a">;calcuate the co2 produced fo </font><font color="#000000">
 </font><font color="#0000aa">set</font><font color="#000000"> Myco2_fuel_gen Myyear_fuel_transfo_co2                 </font><font color="#5a5a5a">;add that plant's co2 emissions to the running total for all fuel plants</font><font color="#000000">
 
 </font><font color="#0000aa">set</font><font color="#000000"> Myyear_eplant_co2 (net_co2_per_MWh </font><font color="#660096">*</font><font color="#000000"> year_MWh_produced)          </font><font color="#5a5a5a">;calculate the co2 produced from that particular plant while generating electricity from switchgrass</font><font color="#000000">
 </font><font color="#0000aa">set</font><font color="#000000"> Myco2_electric_gen Myyear_eplant_co2        </font><font color="#5a5a5a">;add that plant's co2 emissions to the running total for all electric plants</font><font color="#000000">
 
 </font><font color="#0000aa">set</font><font color="#000000"> Myco2_fuel_burn (year_MWh_produced </font><font color="#660096">*</font><font color="#000000"> co2_per_liter_burn) </font><font color="#5a5a5a">;calculate the emissions from fuel combustion based on the amount of fuel produced from fuel plants. Note this assumes that all fuel produced in a year is burned in that same year.</font><font color="#000000">

 
</font><font color="#5a5a5a">;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;;;MY;;   </font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> calculate_ffuel_production_use
   </font><font color="#0000aa">set</font><font color="#000000"> MWh_per_tonne_coal (heat_content_coal </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">2.326</font><font color="#000000">) </font><font color="#660096">/</font><font color="#000000"> (</font><font color="#963700">1000</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> heat_rate) </font><font color="#5a5a5a">;1 btu/lb = 2.326 MJ/tonne </font><font color="#000000">
   </font><font color="#0000aa">set</font><font color="#000000"> MWh_per_tonne_sg (heat_content_sg </font><font color="#660096">/</font><font color="#000000"> (</font><font color="#963700">1000</font><font color="#000000"> </font><font color="#660096">*</font><font color="#000000"> heat_rate))
   </font><font color="#0000aa">set</font><font color="#000000"> tonnes_per_MWh (</font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">/</font><font color="#000000">  MWh_per_tonne_sg)  
</font><font color="#007f69">end</font><font color="#000000">



</font><font color="#5a5a5a">;script to compare the emissions from fuel and electricity produced in that year from switchgrass to an equvalent amount of fuel and elesctricity produced by other means. </font><font color="#000000">
  
  </font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;; Note: as written, this doesn't calculate the difference in impact associated with switching from conventional fuels to switchgrass. This just compares the co2 associated with equal amounts of energy produced</font><font color="#000000">
  </font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;; from different fuel sources. For example: if the model showed that 1000 liters of fuel were produced and 500 mWh of electricity were produced from switchgrass, this script will calculate the co2 impact from </font><font color="#000000">
  </font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;; producing conventional fuel (gasoline) with equivalent energy content to that in 1000 liters of switchgrass fuel, and also the co2 associated with producing 500 MWh of electricity from conventional sources (coal, ng, etc).</font><font color="#000000">
  </font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;; To figure out the co2 impact from utilizing switchgrass, the user will need to define a total market demand for fuel and electricity. Then this calculation section can be modified to calculate the emissions when switchgrass</font><font color="#000000">
  </font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;; provides x% of the total fuel demand, and y% of the total electricity demand (with conventional sources providing (100-x)% of the fuel and (100-y)% of the electricity demand).</font><font color="#000000">
  
 
</font><font color="#007f69">to-report</font><font color="#000000"> Total_Harvested_ton
   </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">sum</font><font color="#000000"> [SG_harvested] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to-report</font><font color="#000000"> Total_HarvArea_acres
   </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">sum</font><font color="#000000"> [SG_harvArea] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to-report</font><font color="#000000"> Total_planted_acres </font><font color="#5a5a5a">;;acres</font><font color="#000000">
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">sum</font><font color="#000000"> [My_area_planted] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to-report</font><font color="#000000"> Total_planted_ton </font><font color="#5a5a5a">;;ton</font><font color="#000000">
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">sum</font><font color="#000000"> [SG_planted_ton] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to-report</font><font color="#000000"> Total_SG_revenues
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">sum</font><font color="#000000"> [SG_revenues] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to-report</font><font color="#000000"> Mean_SG_revenues
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [SG_revenues] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">
  
</font><font color="#007f69">to-report</font><font color="#000000"> Mean_age
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [age_of_farmer] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to-report</font><font color="#000000"> Mean_Interest_score 
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [Interest_score] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">  
</font><font color="#007f69">to-report</font><font color="#000000"> Mean_risk_aversion 
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [risk_aversion] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">  

</font><font color="#007f69">to-report</font><font color="#000000"> Mean_familiarity_with_SG
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [familiarity_with_SG] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">  

</font><font color="#007f69">to-report</font><font color="#000000"> Mean_My_area_planted
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [My_area_planted] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">  

</font><font color="#007f69">to-report</font><font color="#000000"> Co2_total_from_SG
  </font><font color="#0000aa">report</font><font color="#000000"> co2_growth </font><font color="#660096">+</font><font color="#000000"> co2_delivery </font><font color="#660096">+</font><font color="#000000"> co2_fuel_gen </font><font color="#660096">+</font><font color="#000000"> co2_electric_gen </font><font color="#660096">+</font><font color="#000000"> co2_fuel_burn
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to-report</font><font color="#000000"> Co2delivery
  </font><font color="#0000aa">report</font><font color="#000000"> co2_delivery
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to-report</font><font color="#000000"> Co2_from_gas_and_coal
  </font><font color="#0000aa">report</font><font color="#000000"> (market_MWH_supply </font><font color="#660096">*</font><font color="#000000"> co2_coal_TFC) </font><font color="#660096">+</font><font color="#000000"> (market_fuel_supply </font><font color="#660096">*</font><font color="#000000"> Lgas_per_Letoh </font><font color="#660096">*</font><font color="#000000"> co2_gasoline_TFC)
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to-report</font><font color="#000000"> Co2_from_gas_and-natgas
 </font><font color="#0000aa">report</font><font color="#000000"> (market_MWH_supply </font><font color="#660096">*</font><font color="#000000"> co2_natgas_TFC) </font><font color="#660096">+</font><font color="#000000"> (market_fuel_supply </font><font color="#660096">*</font><font color="#000000"> Lgas_per_Letoh </font><font color="#660096">*</font><font color="#000000"> co2_gasoline_TFC)
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to-report</font><font color="#000000"> Price_of_baseBS
 </font><font color="#0000aa">report</font><font color="#000000"> Price_of_base
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to-report</font><font color="#000000"> Price_of_SGBS
 </font><font color="#0000aa">report</font><font color="#000000"> Price_of_SG
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to-report</font><font color="#000000"> Mean_my_percent_increase
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [my_percent_increase] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> Mean_SG_yield
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [SG_yield] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> Mean_percent_of_planting
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [percent_of_planting] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> Mean_base_yield
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [base_yield] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 




</font><font color="#007f69">to-report</font><font color="#000000"> Mean_DistFieldToRefinery
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [DistFieldToRefinery] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 
</font><font color="#007f69">to-report</font><font color="#000000"> Mean_DistFieldToStorage
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [DistFieldToStorage] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 
</font><font color="#007f69">to-report</font><font color="#000000"> Mean_DistFieldToStoragetoRefinery
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [DistFieldToStorage </font><font color="#660096">+</font><font color="#000000"> DistStorageToRefinery] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 


</font><font color="#007f69">to-report</font><font color="#000000"> TOTDistFieldToRefinery
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">sum</font><font color="#000000"> [DistFieldToRefinery] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 
</font><font color="#007f69">to-report</font><font color="#000000"> TOTDistFieldToStorage
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">sum</font><font color="#000000"> [DistFieldToStorage] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 
</font><font color="#007f69">to-report</font><font color="#000000"> TOTDistFieldToStoragetoRefinery
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">sum</font><font color="#000000"> [DistFieldToStorage </font><font color="#660096">+</font><font color="#000000"> DistStorageToRefinery] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 



</font><font color="#007f69">to-report</font><font color="#000000"> MeanAcOwned
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [acres_owned] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> MeanPotRev
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [Potential_revenues] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> MeanTotCostPerAcre
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [Total_cost_peracre] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> MeanTotCost
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [Total_cost] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> CountRepl
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">count</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [Rep? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">]
</font><font color="#007f69">end</font><font color="#000000"> 


</font><font color="#007f69">to-report</font><font color="#000000"> MeanEducation
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [education] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> CountComputeruse
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">count</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [computer_use? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">]
</font><font color="#007f69">end</font><font color="#000000"> 


</font><font color="#007f69">to-report</font><font color="#000000"> CountSuccessor
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">count</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [successor? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">]
</font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> MeanPotProfit
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [Potential_profit] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> CountUserStorage
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">count</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [usingStorage? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">true</font><font color="#000000">]
</font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> MeanTransCost
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [TransCost] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> totDistance_to_refinery
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">sum</font><font color="#000000"> [Distance_to_refinery] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">
</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">

</font><font color="#007f69">to-report</font><font color="#000000"> MeanMyco2_growth 
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [Myco2_growth ] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> MeanMyco2_delivery
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [Myco2_delivery] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> MeanMyco2_electric_gen
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [Myco2_electric_gen] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> MeanMyco2_fuel_gen  
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [Myco2_fuel_gen ] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> MeanMyco2_fuel_burn 
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [Myco2_fuel_burn ] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> MeanMyyear_fuel_transfo_co2
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [Myyear_fuel_transfo_co2] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> MeanMyyear_eplant_co2  
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [Myyear_eplant_co2] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 
                  


</font><font color="#007f69">to-report</font><font color="#000000"> TOTMyco2_delivery
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">sum</font><font color="#000000"> [Myco2_delivery] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 


</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">
</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">

</font><font color="#5a5a5a">;</font><font color="#000000">
</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">
</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">
</font><font color="#5a5a5a">; for beahavior space to add</font><font color="#000000">
</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">
</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">

</font><font color="#007f69">to-report</font><font color="#000000"> highra
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">max</font><font color="#000000"> [risk_aversion] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> 
  </font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> medra
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [risk_aversion] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> 
  </font><font color="#007f69">end</font><font color="#000000"> 
</font><font color="#007f69">to-report</font><font color="#000000"> lowra
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">min</font><font color="#000000"> [risk_aversion] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">
  </font><font color="#007f69">end</font><font color="#000000"> 


</font><font color="#007f69">to-report</font><font color="#000000"> highfa
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">max</font><font color="#000000"> [familiarity_with_SG] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> 
  </font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> medfa
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [familiarity_with_SG] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> 
  </font><font color="#007f69">end</font><font color="#000000"> 
</font><font color="#007f69">to-report</font><font color="#000000"> lowfa
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">min</font><font color="#000000"> [familiarity_with_SG] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">
  </font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> highis
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">max</font><font color="#000000"> [interest_score] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> 
  </font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> medis
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [interest_score] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> 
  </font><font color="#007f69">end</font><font color="#000000"> 
</font><font color="#007f69">to-report</font><font color="#000000"> lowis
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">min</font><font color="#000000"> [interest_score] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">
  </font><font color="#007f69">end</font><font color="#000000"> 
</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">
</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">

</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">
</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">
</font><font color="#5a5a5a">; for beahavior space to add</font><font color="#000000">
</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">
</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">

</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">
</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">

</font><font color="#5a5a5a">;;education</font><font color="#000000">

</font><font color="#007f69">to-report</font><font color="#000000"> highEd
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">max</font><font color="#000000"> [education] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> 
  </font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> medEd
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [education] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> 
  </font><font color="#007f69">end</font><font color="#000000"> 
</font><font color="#007f69">to-report</font><font color="#000000"> lowEd
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">min</font><font color="#000000"> [education] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">
  </font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">
</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">

</font><font color="#5a5a5a">;; ECONOMIC</font><font color="#000000">

</font><font color="#007f69">to-report</font><font color="#000000"> highPotProf
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">max</font><font color="#000000"> [Potential_profit] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> 
  </font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> medPotProf
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [Potential_profit] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> 
  </font><font color="#007f69">end</font><font color="#000000"> 
</font><font color="#007f69">to-report</font><font color="#000000"> lowPotProf
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">min</font><font color="#000000"> [Potential_profit] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">
  </font><font color="#007f69">end</font><font color="#000000"> 
</font><font color="#5a5a5a">;###########################################################</font><font color="#000000">

</font><font color="#007f69">to-report</font><font color="#000000"> highPriceSG
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">max</font><font color="#000000"> [Price_of_SG] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> 
  </font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> medPriceSG
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [Price_of_SG] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> 
  </font><font color="#007f69">end</font><font color="#000000"> 
</font><font color="#007f69">to-report</font><font color="#000000"> lowPriceSG
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">min</font><font color="#000000"> [Price_of_SG] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">
  </font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#5a5a5a">;###########################################################</font><font color="#000000">


</font><font color="#007f69">to-report</font><font color="#000000"> highCost
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">max</font><font color="#000000"> [Total_cost] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> 
  </font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> medCost
    </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [Total_cost] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> 
  </font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#007f69">to-report</font><font color="#000000"> lowCost
  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#660096">min</font><font color="#000000"> [Total_cost] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">
  </font><font color="#007f69">end</font><font color="#000000"> 

</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">
</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">




</font><font color="#007f69">to</font><font color="#000000"> CountPlantbySGprice
  
 </font><font color="#0000aa">ask</font><font color="#000000"> be_farmers
     [   
    </font><font color="#0000aa">ifelse</font><font color="#000000"> plant_SG? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000"> [
     </font><font color="#0000aa">if</font><font color="#000000"> plant_SG? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">FALSE</font><font color="#000000"> [
       
 </font><font color="#0000aa">ifelse</font><font color="#000000"> (Price_of_SG </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> SGPriceMem) 
    </font><font color="#660096">and</font><font color="#000000"> (Price_of_SG </font><font color="#660096">&lt;=</font><font color="#000000">  </font><font color="#660096">max</font><font color="#000000"> SGPriceMem)
     [</font><font color="#0000aa">set</font><font color="#000000"> MaxSGPrice? </font><font color="#963700">TRUE</font><font color="#000000">] 
     [</font><font color="#0000aa">set</font><font color="#000000"> MaxSGPrice? </font><font color="#963700">FALSE</font><font color="#000000">]

 </font><font color="#0000aa">ifelse</font><font color="#000000"> (Price_of_SG </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#660096">min</font><font color="#000000"> SGPriceMem) 
    </font><font color="#660096">and</font><font color="#000000"> (Price_of_SG </font><font color="#660096">&lt;=</font><font color="#000000">  </font><font color="#660096">mean</font><font color="#000000"> SGPriceMem)
     [</font><font color="#0000aa">set</font><font color="#000000"> MeanSGPrice? </font><font color="#963700">TRUE</font><font color="#000000">] 
     [</font><font color="#0000aa">set</font><font color="#000000"> MeanSGPrice? </font><font color="#963700">FALSE</font><font color="#000000">]

</font><font color="#0000aa">ifelse</font><font color="#000000"> (MaxSGPrice?  </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (MeanSGPrice? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) 
   [</font><font color="#0000aa">set</font><font color="#000000"> MinSGPrice? </font><font color="#963700">TRUE</font><font color="#000000">] 
   [</font><font color="#0000aa">set</font><font color="#000000"> MinSGPrice? </font><font color="#963700">FALSE</font><font color="#000000">]
     
       ]
     ]
   []
  ]

</font><font color="#007f69">end</font><font color="#000000">




 
</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">
</font><font color="#5a5a5a">;###################################################################################################</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> defineeffect 
  </font><font color="#0000aa">ask</font><font color="#000000"> be_farmers
 </font><font color="#5a5a5a">;  with [Plant_SG? = TRUE]</font><font color="#000000">
    [
    
    </font><font color="#0000aa">ifelse</font><font color="#000000"> plant_SG? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000"> [
     </font><font color="#0000aa">if</font><font color="#000000"> plant_SG? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">FALSE</font><font color="#000000"> [
    
    </font><font color="#0000aa">ifelse</font><font color="#000000"> (risk_aversion </font><font color="#660096">&gt;</font><font color="#000000"> medra) 
    </font><font color="#660096">and</font><font color="#000000"> (risk_aversion </font><font color="#660096">&lt;=</font><font color="#000000"> highra)
     [</font><font color="#0000aa">set</font><font color="#000000"> highra? </font><font color="#963700">TRUE</font><font color="#000000">] 
     [</font><font color="#0000aa">set</font><font color="#000000"> highra? </font><font color="#963700">FALSE</font><font color="#000000">]
     
    </font><font color="#0000aa">ifelse</font><font color="#000000"> (risk_aversion </font><font color="#660096">&gt;</font><font color="#000000"> lowra) 
   </font><font color="#660096">and</font><font color="#000000"> (risk_aversion </font><font color="#660096">&lt;</font><font color="#000000"> medra)
     [</font><font color="#0000aa">set</font><font color="#000000"> medra? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> medra? </font><font color="#963700">FALSE</font><font color="#000000">]
    
     </font><font color="#0000aa">ifelse</font><font color="#000000"> (highra? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (medra? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) 
     [</font><font color="#0000aa">set</font><font color="#000000"> lowra? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> lowra? </font><font color="#963700">FALSE</font><font color="#000000">]
</font><font color="#5a5a5a">;###################################################################################################     </font><font color="#000000">
       </font><font color="#0000aa">ifelse</font><font color="#000000"> (familiarity_with_SG </font><font color="#660096">&gt;</font><font color="#000000"> medfa) 
    </font><font color="#660096">and</font><font color="#000000"> (familiarity_with_SG </font><font color="#660096">&lt;=</font><font color="#000000"> highfa)
     [</font><font color="#0000aa">set</font><font color="#000000"> highfa? </font><font color="#963700">TRUE</font><font color="#000000">] 
     [</font><font color="#0000aa">set</font><font color="#000000"> highfa? </font><font color="#963700">FALSE</font><font color="#000000">]
     
    </font><font color="#0000aa">ifelse</font><font color="#000000"> (familiarity_with_SG </font><font color="#660096">&gt;</font><font color="#000000"> lowfa) 
   </font><font color="#660096">and</font><font color="#000000"> (familiarity_with_SG </font><font color="#660096">&lt;</font><font color="#000000"> medfa)
     [</font><font color="#0000aa">set</font><font color="#000000"> medfa? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> medfa? </font><font color="#963700">FALSE</font><font color="#000000">]
    

     </font><font color="#0000aa">ifelse</font><font color="#000000"> (highfa? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (medfa? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) 
     [</font><font color="#0000aa">set</font><font color="#000000"> lowfa? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> lowfa? </font><font color="#963700">FALSE</font><font color="#000000">]
     
</font><font color="#5a5a5a">;###################################################################################################     </font><font color="#000000">
    </font><font color="#0000aa">ifelse</font><font color="#000000"> (Interest_score </font><font color="#660096">&gt;</font><font color="#000000"> medis) 
    </font><font color="#660096">and</font><font color="#000000"> (Interest_score </font><font color="#660096">&lt;=</font><font color="#000000"> highis)
     [</font><font color="#0000aa">set</font><font color="#000000"> highis? </font><font color="#963700">TRUE</font><font color="#000000">] 
     [</font><font color="#0000aa">set</font><font color="#000000"> highis? </font><font color="#963700">FALSE</font><font color="#000000">]
     
    </font><font color="#0000aa">ifelse</font><font color="#000000"> (Interest_score </font><font color="#660096">&gt;</font><font color="#000000"> lowis) 
   </font><font color="#660096">and</font><font color="#000000"> (Interest_score </font><font color="#660096">&lt;</font><font color="#000000"> medis)
     [</font><font color="#0000aa">set</font><font color="#000000"> medis? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> medis? </font><font color="#963700">FALSE</font><font color="#000000">]
      
   </font><font color="#0000aa">ifelse</font><font color="#000000"> (highis? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (medis? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) 
     [</font><font color="#0000aa">set</font><font color="#000000"> lowis? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> lowis? </font><font color="#963700">FALSE</font><font color="#000000">]
     
</font><font color="#5a5a5a">;###################################################################################################    </font><font color="#000000">
     
   </font><font color="#0000aa">ifelse</font><font color="#000000"> (education </font><font color="#660096">&gt;</font><font color="#000000"> medEd) 
    </font><font color="#660096">and</font><font color="#000000"> (education </font><font color="#660096">&lt;=</font><font color="#000000"> highEd)
     [</font><font color="#0000aa">set</font><font color="#000000"> highEd? </font><font color="#963700">TRUE</font><font color="#000000">] 
     [</font><font color="#0000aa">set</font><font color="#000000"> highEd? </font><font color="#963700">FALSE</font><font color="#000000">]
     
    </font><font color="#0000aa">ifelse</font><font color="#000000"> (education </font><font color="#660096">&gt;</font><font color="#000000"> lowEd) 
   </font><font color="#660096">and</font><font color="#000000"> (education </font><font color="#660096">&lt;</font><font color="#000000"> medEd)
     [</font><font color="#0000aa">set</font><font color="#000000"> medEd? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> medEd? </font><font color="#963700">FALSE</font><font color="#000000">]
      
   </font><font color="#0000aa">ifelse</font><font color="#000000"> (highEd? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (medEd? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) 
     [</font><font color="#0000aa">set</font><font color="#000000"> lowEd? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> lowEd? </font><font color="#963700">FALSE</font><font color="#000000">]
</font><font color="#5a5a5a">;###################################################################################################     </font><font color="#000000">
     
      </font><font color="#0000aa">ifelse</font><font color="#000000"> (Potential_profit </font><font color="#660096">&gt;</font><font color="#000000"> medPotProf) 
    </font><font color="#660096">and</font><font color="#000000"> (Potential_profit </font><font color="#660096">&lt;=</font><font color="#000000"> highPotProf)
     [</font><font color="#0000aa">set</font><font color="#000000"> highPotProf? </font><font color="#963700">TRUE</font><font color="#000000">] 
     [</font><font color="#0000aa">set</font><font color="#000000"> highPotProf? </font><font color="#963700">FALSE</font><font color="#000000">]
     
    </font><font color="#0000aa">ifelse</font><font color="#000000"> (Potential_profit </font><font color="#660096">&gt;</font><font color="#000000"> lowPotProf) 
   </font><font color="#660096">and</font><font color="#000000"> (Potential_profit </font><font color="#660096">&lt;</font><font color="#000000"> medPotProf)
     [</font><font color="#0000aa">set</font><font color="#000000"> medPotProf? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> medPotProf? </font><font color="#963700">FALSE</font><font color="#000000">]
      
   </font><font color="#0000aa">ifelse</font><font color="#000000"> (highPotProf? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (medPotProf? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) 
     [</font><font color="#0000aa">set</font><font color="#000000"> lowPotProf? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> lowPotProf? </font><font color="#963700">FALSE</font><font color="#000000">]  
     
 </font><font color="#5a5a5a">;###################################################################################################    </font><font color="#000000">
    </font><font color="#0000aa">ifelse</font><font color="#000000"> (Price_of_SG </font><font color="#660096">&gt;</font><font color="#000000"> medPriceSG) 
    </font><font color="#660096">and</font><font color="#000000"> (Price_of_SG </font><font color="#660096">&lt;=</font><font color="#000000"> highPriceSG)
     [</font><font color="#0000aa">set</font><font color="#000000"> highPriceSG? </font><font color="#963700">TRUE</font><font color="#000000">] 
     [</font><font color="#0000aa">set</font><font color="#000000"> highPriceSG? </font><font color="#963700">FALSE</font><font color="#000000">]
     
    </font><font color="#0000aa">ifelse</font><font color="#000000"> (Price_of_SG </font><font color="#660096">&gt;</font><font color="#000000"> lowPriceSG) 
   </font><font color="#660096">and</font><font color="#000000"> (Price_of_SG </font><font color="#660096">&lt;</font><font color="#000000"> medPriceSG)
     [</font><font color="#0000aa">set</font><font color="#000000"> medPriceSG? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> medPriceSG? </font><font color="#963700">FALSE</font><font color="#000000">]
      
   </font><font color="#0000aa">ifelse</font><font color="#000000"> (highPriceSG </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (medPriceSG? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) 
     [</font><font color="#0000aa">set</font><font color="#000000"> lowPriceSG? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> lowPriceSG? </font><font color="#963700">FALSE</font><font color="#000000">]  
     
    
</font><font color="#5a5a5a">;###################################################################################################  </font><font color="#000000">
</font><font color="#0000aa">ifelse</font><font color="#000000"> (Total_cost </font><font color="#660096">&gt;</font><font color="#000000"> medCost) 
    </font><font color="#660096">and</font><font color="#000000"> (Total_cost </font><font color="#660096">&lt;=</font><font color="#000000"> highCost)
     [</font><font color="#0000aa">set</font><font color="#000000"> highCost? </font><font color="#963700">TRUE</font><font color="#000000">] 
     [</font><font color="#0000aa">set</font><font color="#000000"> highCost? </font><font color="#963700">FALSE</font><font color="#000000">]
     
    </font><font color="#0000aa">ifelse</font><font color="#000000"> (Total_cost </font><font color="#660096">&gt;</font><font color="#000000"> lowCost) 
   </font><font color="#660096">and</font><font color="#000000"> (Total_cost </font><font color="#660096">&lt;</font><font color="#000000"> medCost)
     [</font><font color="#0000aa">set</font><font color="#000000"> medCost? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> medCost? </font><font color="#963700">FALSE</font><font color="#000000">]
      
   </font><font color="#0000aa">ifelse</font><font color="#000000"> (highCost? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (medCost? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) 
     [</font><font color="#0000aa">set</font><font color="#000000"> lowCost? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> lowCost? </font><font color="#963700">FALSE</font><font color="#000000">]   
     
    ]
  ]
    []
</font><font color="#5a5a5a">; ask be_farmers [</font><font color="#000000">
</font><font color="#5a5a5a">; if (highra? = TRUE) and (Plant_SG? = TRUE)</font><font color="#000000">
 </font><font color="#5a5a5a">;[set PHighra? TRUE]</font><font color="#000000">
 
 
 
  ]
  </font><font color="#5a5a5a">;  ]</font><font color="#000000">
   
  </font><font color="#007f69">end</font><font color="#000000"> 



</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">
</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">
</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; UPDATES ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">
</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">
</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> update-attributes
  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
   [
    </font><font color="#5a5a5a">;;; the Following goes up with time ;;;;;;;;;;;</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> age_of_farmer </font><font color="#660096">precision</font><font color="#000000"> (age_of_farmer </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">) </font><font color="#963700">0</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> age_mem </font><font color="#660096">lput</font><font color="#000000"> age_of_farmer age_mem

    </font><font color="#0000aa">set</font><font color="#000000"> memory_planted </font><font color="#660096">lput</font><font color="#000000"> My_SGplant memory_planted </font><font color="#5a5a5a">;; agentset</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> memory_lot_planted </font><font color="#660096">lput</font><font color="#000000"> portion_of_planting memory_lot_planted  
    
    </font><font color="#0000aa">ifelse</font><font color="#000000"> happy? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">
      [
        </font><font color="#0000aa">ifelse</font><font color="#000000"> SG_profit </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#660096">mean</font><font color="#000000"> [SG_profit] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">   
          [</font><font color="#0000aa">set</font><font color="#000000"> my_percent_increase </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">.5</font><font color="#000000"> </font><font color="#5a5a5a">;set low? TRUE </font><font color="#000000">
            </font><font color="#0000aa">set</font><font color="#000000"> Percent_of_planting initial_Percent_of_planting </font><font color="#660096">*</font><font color="#000000"> my_percent_increase]
          [</font><font color="#0000aa">set</font><font color="#000000"> my_percent_increase </font><font color="#963700">2</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">.5</font><font color="#5a5a5a">; set low? FALSE</font><font color="#000000">
            </font><font color="#0000aa">set</font><font color="#000000"> Percent_of_planting initial_Percent_of_planting </font><font color="#660096">*</font><font color="#000000"> my_percent_increase]
      ]
      [</font><font color="#0000aa">set</font><font color="#000000"> Percent_of_planting initial_Percent_of_planting]
      
</font><font color="#5a5a5a">;;;; ;; death at 75 - if have a successor all attributes stay same except age, if no successor, all change</font><font color="#000000">

 </font><font color="#0000aa">if</font><font color="#000000"> ( age_of_farmer </font><font color="#660096">&gt;</font><font color="#000000"> ( ageofdeath </font><font color="#660096">*</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#963700">0.2</font><font color="#000000"> ) ) </font><font color="#660096">and</font><font color="#000000"> ( successor? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000"> ) [ </font><font color="#0000aa">set</font><font color="#000000"> age_of_farmer </font><font color="#963700">45</font><font color="#000000"> ] 
 </font><font color="#0000aa">if</font><font color="#000000"> ( age_of_farmer </font><font color="#660096">&gt;</font><font color="#000000"> ( ageofdeath </font><font color="#660096">*</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#963700">0.2</font><font color="#000000"> ) ) </font><font color="#660096">and</font><font color="#000000"> ( successor? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">FALSE</font><font color="#000000"> ) 
     [ 

        </font><font color="#0000aa">set</font><font color="#000000"> age_of_farmer </font><font color="#660096">precision</font><font color="#000000"> (</font><font color="#660096">random-normal</font><font color="#000000"> average_age </font><font color="#963700">10</font><font color="#000000">) </font><font color="#963700">0</font><font color="#000000">
        </font><font color="#0000aa">set</font><font color="#000000"> risk_aversion (age_of_farmer </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">0.9</font><font color="#000000"> </font><font color="#963700">0.3</font><font color="#000000">) </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000">
        (</font><font color="#0000aa">if</font><font color="#000000"> (age_of_farmer </font><font color="#660096">&lt;</font><font color="#000000"> average_age) [</font><font color="#0000aa">set</font><font color="#000000"> risk_aversion risk_aversion </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">0.1</font><font color="#000000">])
        
       </font><font color="#5a5a5a">;  if (computer_use? = TRUE) [    </font><font color="#000000">
        </font><font color="#0000aa">set</font><font color="#000000"> familiarity_with_SG (age_of_farmer </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">) </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">10</font><font color="#000000">
        </font><font color="#5a5a5a">;]</font><font color="#000000">
        (</font><font color="#0000aa">if</font><font color="#000000"> (age_of_farmer </font><font color="#660096">&lt;</font><font color="#000000"> average_age) [</font><font color="#0000aa">set</font><font color="#000000"> familiarity_with_SG familiarity_with_SG </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">])
        
        </font><font color="#0000aa">set</font><font color="#000000"> education </font><font color="#660096">random-normal</font><font color="#000000"> average_education </font><font color="#963700">3</font><font color="#000000">
        
        </font><font color="#0000aa">ifelse</font><font color="#000000"> ( </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">0.00001</font><font color="#000000"> ) </font><font color="#660096">&gt;</font><font color="#000000"> PropWithSuccessor
                [</font><font color="#0000aa">set</font><font color="#000000"> successor? </font><font color="#963700">FALSE</font><font color="#000000"> ] 
                [</font><font color="#0000aa">set</font><font color="#000000"> successor? </font><font color="#963700">TRUE</font><font color="#000000"> ] 
        
        </font><font color="#0000aa">set</font><font color="#000000"> number_of_fields_owned </font><font color="#660096">count</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [ owned-by </font><font color="#660096">=</font><font color="#000000"> </font><font color="#660096">myself</font><font color="#000000"> ]
        </font><font color="#0000aa">set</font><font color="#000000"> my_farm </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [ owned-by </font><font color="#660096">=</font><font color="#000000"> </font><font color="#660096">myself</font><font color="#000000">]
        </font><font color="#0000aa">ask</font><font color="#000000"> my_farm [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> [parcels_col] </font><font color="#660096">of</font><font color="#000000"> </font><font color="#660096">myself</font><font color="#000000">]
        </font><font color="#0000aa">set</font><font color="#000000"> acres_owned number_of_fields_owned </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">10</font><font color="#000000"> </font><font color="#5a5a5a">;; 6 acres per patch</font><font color="#000000">
        
        </font><font color="#0000aa">set</font><font color="#000000"> variable_cost_peracre </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">250</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000"> </font><font color="#5a5a5a">;;V</font><font color="#000000">
        </font><font color="#0000aa">set</font><font color="#000000"> Total_variable_cost variable_cost_peracre </font><font color="#660096">*</font><font color="#000000"> acres_owned 
        
        </font><font color="#0000aa">set</font><font color="#000000"> fixed_cost_peracre  </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000"> </font><font color="#963700">50</font><font color="#000000"> </font><font color="#5a5a5a">;;;F;; per acre</font><font color="#000000">
        </font><font color="#0000aa">set</font><font color="#000000"> total_fixed_cost  fixed_cost_peracre </font><font color="#660096">*</font><font color="#000000"> acres_owned
        
        </font><font color="#0000aa">set</font><font color="#000000"> Total_cost_peracre </font><font color="#660096">precision</font><font color="#000000"> (fixed_cost_peracre </font><font color="#660096">+</font><font color="#000000"> variable_cost_peracre) </font><font color="#963700">0</font><font color="#000000">
        
        </font><font color="#0000aa">set</font><font color="#000000"> Total_cost </font><font color="#660096">precision</font><font color="#000000"> (total_fixed_cost </font><font color="#660096">+</font><font color="#000000"> Total_variable_cost) </font><font color="#963700">0</font><font color="#000000">
        
        </font><font color="#5a5a5a">;SG;;;;</font><font color="#000000">
        </font><font color="#0000aa">set</font><font color="#000000"> Sales_price_SG_peracre  price_of_SG</font><font color="#5a5a5a">;;S;; formula BEunit= F/(S-V);; $ BEdollars=BEunit*S </font><font color="#000000">
        </font><font color="#0000aa">set</font><font color="#000000"> Potential_revenues SG_yield </font><font color="#660096">*</font><font color="#000000"> acres_owned </font><font color="#660096">*</font><font color="#000000"> price_of_SG
        </font><font color="#0000aa">set</font><font color="#000000"> Potential_profit Potential_revenues </font><font color="#660096">-</font><font color="#000000"> Total_cost
        
        </font><font color="#5a5a5a">;;Base;;;</font><font color="#000000">
        </font><font color="#0000aa">set</font><font color="#000000"> Sales_price_Base_peracre  price_of_base</font><font color="#5a5a5a">;;S;; formula BEunit= F/(S-V);; $ BEdollars=BEunit*S </font><font color="#000000">
        </font><font color="#0000aa">set</font><font color="#000000"> current_revenues base_yield </font><font color="#660096">*</font><font color="#000000"> acres_owned </font><font color="#660096">*</font><font color="#000000"> price_of_base  
        </font><font color="#0000aa">set</font><font color="#000000"> Current_profit current_revenues </font><font color="#660096">-</font><font color="#000000"> Total_cost
        
        </font><font color="#5a5a5a">;;be;;  </font><font color="#000000">
        </font><font color="#0000aa">set</font><font color="#000000"> BE Potential_profit </font><font color="#660096">-</font><font color="#000000"> Current_profit
        
        </font><font color="#0000aa">set</font><font color="#000000"> initial_Percent_of_planting </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">0.4</font><font color="#000000">
        </font><font color="#0000aa">set</font><font color="#000000"> my_percent_increase </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">.3</font><font color="#000000">  
        
       </font><font color="#5a5a5a">; set Distance_to_refinery random-normal 60 40</font><font color="#000000">
    
  
         ]
   ]
   
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> update_effect
  </font><font color="#0000aa">ask</font><font color="#000000"> be_farmers
 </font><font color="#5a5a5a">;  with [Plant_SG? = TRUE]</font><font color="#000000">
    [
    
    </font><font color="#0000aa">ifelse</font><font color="#000000"> plant_SG? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000"> [
     </font><font color="#0000aa">if</font><font color="#000000"> plant_SG? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">FALSE</font><font color="#000000"> [
    
    </font><font color="#0000aa">ifelse</font><font color="#000000"> (risk_aversion </font><font color="#660096">&gt;</font><font color="#000000"> medra) 
    </font><font color="#660096">and</font><font color="#000000"> (risk_aversion </font><font color="#660096">&lt;=</font><font color="#000000"> highra)
     [</font><font color="#0000aa">set</font><font color="#000000"> highra? </font><font color="#963700">TRUE</font><font color="#000000">] 
     [</font><font color="#0000aa">set</font><font color="#000000"> highra? </font><font color="#963700">FALSE</font><font color="#000000">]
     
    </font><font color="#0000aa">ifelse</font><font color="#000000"> (risk_aversion </font><font color="#660096">&gt;</font><font color="#000000"> lowra) 
   </font><font color="#660096">and</font><font color="#000000"> (risk_aversion </font><font color="#660096">&lt;</font><font color="#000000"> medra)
     [</font><font color="#0000aa">set</font><font color="#000000"> medra? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> medra? </font><font color="#963700">FALSE</font><font color="#000000">]
    
     </font><font color="#0000aa">ifelse</font><font color="#000000"> (highra? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (medra? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) 
     [</font><font color="#0000aa">set</font><font color="#000000"> lowra? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> lowra? </font><font color="#963700">FALSE</font><font color="#000000">]
</font><font color="#5a5a5a">;###################################################################################################     </font><font color="#000000">
       </font><font color="#0000aa">ifelse</font><font color="#000000"> (familiarity_with_SG </font><font color="#660096">&gt;</font><font color="#000000"> medfa) 
    </font><font color="#660096">and</font><font color="#000000"> (familiarity_with_SG </font><font color="#660096">&lt;=</font><font color="#000000"> highfa)
     [</font><font color="#0000aa">set</font><font color="#000000"> highfa? </font><font color="#963700">TRUE</font><font color="#000000">] 
     [</font><font color="#0000aa">set</font><font color="#000000"> highfa? </font><font color="#963700">FALSE</font><font color="#000000">]
     
    </font><font color="#0000aa">ifelse</font><font color="#000000"> (familiarity_with_SG </font><font color="#660096">&gt;</font><font color="#000000"> lowfa) 
   </font><font color="#660096">and</font><font color="#000000"> (familiarity_with_SG </font><font color="#660096">&lt;</font><font color="#000000"> medfa)
     [</font><font color="#0000aa">set</font><font color="#000000"> medfa? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> medfa? </font><font color="#963700">FALSE</font><font color="#000000">]
    

     </font><font color="#0000aa">ifelse</font><font color="#000000"> (highfa? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (medfa? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) 
     [</font><font color="#0000aa">set</font><font color="#000000"> lowfa? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> lowfa? </font><font color="#963700">FALSE</font><font color="#000000">]
     
</font><font color="#5a5a5a">;###################################################################################################     </font><font color="#000000">
    </font><font color="#0000aa">ifelse</font><font color="#000000"> (Interest_score </font><font color="#660096">&gt;</font><font color="#000000"> medis) 
    </font><font color="#660096">and</font><font color="#000000"> (Interest_score </font><font color="#660096">&lt;=</font><font color="#000000"> highis)
     [</font><font color="#0000aa">set</font><font color="#000000"> highis? </font><font color="#963700">TRUE</font><font color="#000000">] 
     [</font><font color="#0000aa">set</font><font color="#000000"> highis? </font><font color="#963700">FALSE</font><font color="#000000">]
     
    </font><font color="#0000aa">ifelse</font><font color="#000000"> (Interest_score </font><font color="#660096">&gt;</font><font color="#000000"> lowis) 
   </font><font color="#660096">and</font><font color="#000000"> (Interest_score </font><font color="#660096">&lt;</font><font color="#000000"> medis)
     [</font><font color="#0000aa">set</font><font color="#000000"> medis? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> medis? </font><font color="#963700">FALSE</font><font color="#000000">]
      
   </font><font color="#0000aa">ifelse</font><font color="#000000"> (highis? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (medis? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) 
     [</font><font color="#0000aa">set</font><font color="#000000"> lowis? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> lowis? </font><font color="#963700">FALSE</font><font color="#000000">]
     
</font><font color="#5a5a5a">;###################################################################################################    </font><font color="#000000">
     
   </font><font color="#0000aa">ifelse</font><font color="#000000"> (education </font><font color="#660096">&gt;</font><font color="#000000"> medEd) 
    </font><font color="#660096">and</font><font color="#000000"> (education </font><font color="#660096">&lt;=</font><font color="#000000"> highEd)
     [</font><font color="#0000aa">set</font><font color="#000000"> highEd? </font><font color="#963700">TRUE</font><font color="#000000">] 
     [</font><font color="#0000aa">set</font><font color="#000000"> highEd? </font><font color="#963700">FALSE</font><font color="#000000">]
     
    </font><font color="#0000aa">ifelse</font><font color="#000000"> (education </font><font color="#660096">&gt;</font><font color="#000000"> lowEd) 
   </font><font color="#660096">and</font><font color="#000000"> (education </font><font color="#660096">&lt;</font><font color="#000000"> medEd)
     [</font><font color="#0000aa">set</font><font color="#000000"> medEd? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> medEd? </font><font color="#963700">FALSE</font><font color="#000000">]
      
   </font><font color="#0000aa">ifelse</font><font color="#000000"> (highEd? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (medEd? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) 
     [</font><font color="#0000aa">set</font><font color="#000000"> lowEd? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> lowEd? </font><font color="#963700">FALSE</font><font color="#000000">]
</font><font color="#5a5a5a">;###################################################################################################     </font><font color="#000000">
     
      </font><font color="#0000aa">ifelse</font><font color="#000000"> (Potential_profit </font><font color="#660096">&gt;</font><font color="#000000"> medPotProf) 
    </font><font color="#660096">and</font><font color="#000000"> (Potential_profit </font><font color="#660096">&lt;=</font><font color="#000000"> highPotProf)
     [</font><font color="#0000aa">set</font><font color="#000000"> highPotProf? </font><font color="#963700">TRUE</font><font color="#000000">] 
     [</font><font color="#0000aa">set</font><font color="#000000"> highPotProf? </font><font color="#963700">FALSE</font><font color="#000000">]
     
    </font><font color="#0000aa">ifelse</font><font color="#000000"> (Potential_profit </font><font color="#660096">&gt;</font><font color="#000000"> lowPotProf) 
   </font><font color="#660096">and</font><font color="#000000"> (Potential_profit </font><font color="#660096">&lt;</font><font color="#000000"> medPotProf)
     [</font><font color="#0000aa">set</font><font color="#000000"> medPotProf? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> medPotProf? </font><font color="#963700">FALSE</font><font color="#000000">]
      
   </font><font color="#0000aa">ifelse</font><font color="#000000"> (highPotProf? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (medPotProf? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) 
     [</font><font color="#0000aa">set</font><font color="#000000"> lowPotProf? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> lowPotProf? </font><font color="#963700">FALSE</font><font color="#000000">]  
     
 </font><font color="#5a5a5a">;###################################################################################################    </font><font color="#000000">
    </font><font color="#0000aa">ifelse</font><font color="#000000"> (Price_of_SG </font><font color="#660096">&gt;</font><font color="#000000"> medPriceSG) 
    </font><font color="#660096">and</font><font color="#000000"> (Price_of_SG </font><font color="#660096">&lt;=</font><font color="#000000"> highPriceSG)
     [</font><font color="#0000aa">set</font><font color="#000000"> highPriceSG? </font><font color="#963700">TRUE</font><font color="#000000">] 
     [</font><font color="#0000aa">set</font><font color="#000000"> highPriceSG? </font><font color="#963700">FALSE</font><font color="#000000">]
     
    </font><font color="#0000aa">ifelse</font><font color="#000000"> (Price_of_SG </font><font color="#660096">&gt;</font><font color="#000000"> lowPriceSG) 
   </font><font color="#660096">and</font><font color="#000000"> (Price_of_SG </font><font color="#660096">&lt;</font><font color="#000000"> medPriceSG)
     [</font><font color="#0000aa">set</font><font color="#000000"> medPriceSG? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> medPriceSG? </font><font color="#963700">FALSE</font><font color="#000000">]
      
   </font><font color="#0000aa">ifelse</font><font color="#000000"> (highPriceSG </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (medPriceSG? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) 
     [</font><font color="#0000aa">set</font><font color="#000000"> lowPriceSG? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> lowPriceSG? </font><font color="#963700">FALSE</font><font color="#000000">]  
     
    
</font><font color="#5a5a5a">;###################################################################################################  </font><font color="#000000">
</font><font color="#0000aa">ifelse</font><font color="#000000"> (Total_cost </font><font color="#660096">&gt;</font><font color="#000000"> medCost) 
    </font><font color="#660096">and</font><font color="#000000"> (Total_cost </font><font color="#660096">&lt;=</font><font color="#000000"> highCost)
     [</font><font color="#0000aa">set</font><font color="#000000"> highCost? </font><font color="#963700">TRUE</font><font color="#000000">] 
     [</font><font color="#0000aa">set</font><font color="#000000"> highCost? </font><font color="#963700">FALSE</font><font color="#000000">]
     
    </font><font color="#0000aa">ifelse</font><font color="#000000"> (Total_cost </font><font color="#660096">&gt;</font><font color="#000000"> lowCost) 
   </font><font color="#660096">and</font><font color="#000000"> (Total_cost </font><font color="#660096">&lt;</font><font color="#000000"> medCost)
     [</font><font color="#0000aa">set</font><font color="#000000"> medCost? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> medCost? </font><font color="#963700">FALSE</font><font color="#000000">]
      
   </font><font color="#0000aa">ifelse</font><font color="#000000"> (highCost? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (medCost? </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">TRUE</font><font color="#000000">) 
     [</font><font color="#0000aa">set</font><font color="#000000"> lowCost? </font><font color="#963700">TRUE</font><font color="#000000">]
     [</font><font color="#0000aa">set</font><font color="#000000"> lowCost? </font><font color="#963700">FALSE</font><font color="#000000">]   
     
     
     </font><font color="#5a5a5a">;;;;;;;;;;;;;;;;</font><font color="#000000">
 
     
    ]
  ]
    []
</font><font color="#5a5a5a">; ask be_farmers [</font><font color="#000000">
</font><font color="#5a5a5a">; if (highra? = TRUE) and (Plant_SG? = TRUE)</font><font color="#000000">
 </font><font color="#5a5a5a">;[set PHighra? TRUE]</font><font color="#000000">
 
 
 
  ]
  </font><font color="#5a5a5a">;  ]</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">
  
</font><font color="#007f69">to</font><font color="#000000"> update_patches
 </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> 
    [  
   </font><font color="#0000aa">set</font><font color="#000000"> SG_yield </font><font color="#963700">2.5</font><font color="#000000"> </font><font color="#5a5a5a">;; ton per acre</font><font color="#000000">
   </font><font color="#0000aa">set</font><font color="#000000"> base_yield </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"> </font><font color="#963700">0.5</font><font color="#000000">
   </font><font color="#0000aa">set</font><font color="#000000"> area_to_plant? </font><font color="#963700">FALSE</font><font color="#000000">
    ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> update_global
 </font><font color="#0000aa">set</font><font color="#000000"> Price_of_SG </font><font color="#660096">precision</font><font color="#000000"> </font><font color="#660096">random-normal</font><font color="#000000"> </font><font color="#963700">350</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">
 </font><font color="#0000aa">set</font><font color="#000000"> SGPriceMem </font><font color="#660096">lput</font><font color="#000000"> Price_of_SG SGPriceMem
 
 

</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; </font><font color="#000000">
</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;SHOCKS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">
</font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000">
</font><font color="#007f69">to</font><font color="#000000"> shock_price
  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Price_shock_at_step
   [
 </font><font color="#5a5a5a">; Set Price_of_SG Price_of_SG  *  (1.2 + random-float 0.6)</font><font color="#000000">
  </font><font color="#0000aa">Set</font><font color="#000000"> Price_of_SG Price_of_SG  </font><font color="#660096">*</font><font color="#000000"> (</font><font color="#963700">0.2</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">)
  </font><font color="#0000aa">set</font><font color="#000000"> new_sgprice Price_of_SG
  ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> commodity_shock
  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> Price_shock_at_step [
  </font><font color="#0000aa">Set</font><font color="#000000"> Total_cost_peracre Total_cost_peracre  </font><font color="#660096">*</font><font color="#000000"> (</font><font color="#963700">0.2</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">)
  </font><font color="#0000aa">set</font><font color="#000000"> new_basecost Total_cost_peracre
]
</font><font color="#007f69">end</font><font color="#000000">


</font><font color="#5a5a5a">;;;;==============================================================================================;;;</font><font color="#000000">
</font><font color="#5a5a5a">;;;;==============================================================================================;;;</font><font color="#000000">
</font><font color="#5a5a5a">;;;;==============================================================================================;;;</font><font color="#000000">
</font><font color="#5a5a5a">;                                         Turtles log for individual analysis with output file  </font><font color="#000000">
</font><font color="#007f69">to</font><font color="#000000"> exportview

</font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">file-exists?</font><font color="#000000"> </font><font color="#963700">&quot;TESTcombineIMAGES.eps&quot;</font><font color="#000000">
     [ </font><font color="#0000aa">file-delete</font><font color="#000000"> </font><font color="#963700">&quot;TESTcombineIMAGES.eps&quot;</font><font color="#000000">]
</font><font color="#0000aa">file-open</font><font color="#000000"> </font><font color="#963700">&quot;TESTcombineIMAGES.eps&quot;</font><font color="#000000">
</font><font color="#5a5a5a">;if ticks mod 10 = 0 (</font><font color="#000000">
</font><font color="#5a5a5a">;file-write </font><font color="#000000">
</font><font color="#5a5a5a">;(task [export-view (word &quot;View-on-tick-&quot; ticks &quot;.png&quot;)])</font><font color="#000000">
</font><font color="#5a5a5a">;)</font><font color="#000000">

</font><font color="#0000aa">file-close</font><font color="#000000"> 
  </font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> export-data
     </font><font color="#5a5a5a">;; If the file already exists, we begin by deleting it, otherwise</font><font color="#000000">
    </font><font color="#5a5a5a">;; new data would be appended to the old contents.</font><font color="#000000">
  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">file-exists?</font><font color="#000000"> </font><font color="#963700">&quot;AgentResult.csv&quot;</font><font color="#000000">
      [ </font><font color="#0000aa">file-delete</font><font color="#000000"> </font><font color="#963700">&quot;AgentResult.csv&quot;</font><font color="#000000">]
   </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> [create-files] 

</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> create-files
</font><font color="#5a5a5a">;; create the file and give the first row column headings</font><font color="#000000">
</font><font color="#0000aa">let</font><font color="#000000"> spacer </font><font color="#963700">&quot;,&quot;</font><font color="#000000">
</font><font color="#0000aa">file-open</font><font color="#000000"> </font><font color="#963700">&quot;AgentResult.csv&quot;</font><font color="#000000">
</font><font color="#0000aa">file-print</font><font color="#000000">  (</font><font color="#660096">list</font><font color="#000000"> 
  </font><font color="#963700">&quot;BSRunNum&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;ticks&quot;</font><font color="#000000"> spacer 
  </font><font color="#963700">&quot;Who&quot;</font><font color="#000000"> spacer 
  </font><font color="#963700">&quot;Breed&quot;</font><font color="#000000"> spacer         
  </font><font color="#963700">&quot;TotalCostPeracre&quot;</font><font color="#000000"> spacer   
  </font><font color="#963700">&quot;TotalCost&quot;</font><font color="#000000"> spacer  
  </font><font color="#963700">&quot;SalesPriceSGPeracre&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;SalesPriceBasePperacre&quot;</font><font color="#000000">  spacer
  </font><font color="#963700">&quot;CurrentRevenues&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;CurrentProfit&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;PotentialRevenues&quot;</font><font color="#000000"> spacer       
  </font><font color="#963700">&quot;PotentialProfit&quot;</font><font color="#000000">  spacer                
  </font><font color="#963700">&quot;SGHarvested&quot;</font><font color="#000000"> spacer              
  </font><font color="#963700">&quot;SGRevenues&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;SGProfit&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;ageOfFarmer&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;riskAversion&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;FamiliarityWithSG&quot;</font><font color="#000000">  spacer     
  </font><font color="#963700">&quot;highra&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;medra&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;lowra&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;highfa&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;medfa&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;lowfa&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;highis&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;medis&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;lowis&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;OnTheFence&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;mindchanged&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;InterestScore&quot;</font><font color="#000000"> spacer          
  </font><font color="#963700">&quot;Happy&quot;</font><font color="#000000"> spacer                        
  </font><font color="#963700">&quot;Rep&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;NumberOfFieldsOwned&quot;</font><font color="#000000"> spacer                                
  </font><font color="#963700">&quot;AcresOwned&quot;</font><font color="#000000"> spacer              
  </font><font color="#963700">&quot;NumbeOfFieldPlanted&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;PlantSG&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;InitialPercentOfPlanting&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;MyPercentIncrease&quot;</font><font color="#000000"> spacer      
  </font><font color="#963700">&quot;PercentOfPlanting&quot;</font><font color="#000000"> spacer        
  </font><font color="#963700">&quot;SGHarvArea&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;MyAreaPlanted&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;InfRadius&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;ComShock&quot;</font><font color="#000000">  spacer
  </font><font color="#963700">&quot;learn&quot;</font><font color="#000000">     spacer
   </font><font color="#963700">&quot;Priceshock&quot;</font><font color="#000000"> spacer
   </font><font color="#963700">&quot;education&quot;</font><font color="#000000"> spacer
   </font><font color="#963700">&quot;computer_use&quot;</font><font color="#000000"> spacer
   </font><font color="#963700">&quot;successor&quot;</font><font color="#000000">                      
        


 )
</font><font color="#5a5a5a">;file-newline </font><font color="#000000">
 
</font><font color="#0000aa">file-close</font><font color="#000000">
export-files
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> export-files
</font><font color="#5a5a5a">;; write the information to the file</font><font color="#000000">
</font><font color="#0000aa">let</font><font color="#000000"> spacer </font><font color="#963700">&quot;,&quot;</font><font color="#000000">
</font><font color="#0000aa">file-open</font><font color="#000000"> </font><font color="#963700">&quot;AgentResult.csv&quot;</font><font color="#000000">
</font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> [</font><font color="#0000aa">file-print</font><font color="#000000">
  
 (</font><font color="#660096">list</font><font color="#000000"> 
   </font><font color="#660096">behaviorspace-run-number</font><font color="#000000"> spacer
  </font><font color="#660096">ticks</font><font color="#000000"> spacer 
 </font><font color="#660096">who</font><font color="#000000"> spacer 
 </font><font color="#660096">breed</font><font color="#000000"> spacer                 
  Total_cost_peracre spacer   
  Total_cost spacer  
  Sales_price_SG_peracre spacer
  Sales_price_Base_peracre  spacer
  Current_revenues spacer
  Current_profit spacer
  Potential_revenues spacer       
  Potential_profit  spacer           
  SG_harvested spacer              
  SG_revenues spacer
  SG_profit spacer
  age_of_farmer spacer
  risk_aversion spacer
  Familiarity_with_SG  spacer     
  highra? spacer
  medra? spacer
  lowra? spacer
  highfa? spacer
  medfa? spacer
  lowfa? spacer
  highis? spacer
  medis? spacer
  lowis? spacer
  On_the_fence? spacer
  mindchanged? spacer
  Interest_score spacer          
  Happy? spacer                        
  Rep? spacer
  Number_of_fields_owned spacer                                  
  Acres_owned spacer              
  number_of_field_planted spacer
  Plant_SG? spacer
  Initial_Percent_of_planting spacer
  My_percent_increase spacer      
  Percent_of_planting spacer        
  SG_harvArea spacer
  My_area_planted spacer
  influence_radius spacer
  commodity_shock? spacer
  learn? spacer
  Price_shock? spacer
  education spacer
  computer_use? spacer
  successor?                                 
                 

)
   
   
   ] 
</font><font color="#0000aa">file-close</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 



</font><font color="#5a5a5a">;;;;==============================================================================================;;;</font><font color="#000000">
</font><font color="#5a5a5a">;;;;========================================= SHORT =====================================================;;;</font><font color="#000000">
</font><font color="#5a5a5a">;;;;==============================================================================================;;;</font><font color="#000000">
</font><font color="#5a5a5a">;                                         Turtles log for individual analysis with output file  </font><font color="#000000">


</font><font color="#007f69">to</font><font color="#000000"> export-dataShort
     </font><font color="#5a5a5a">;; If the file already exists, we begin by deleting it, otherwise</font><font color="#000000">
    </font><font color="#5a5a5a">;; new data would be appended to the old contents.</font><font color="#000000">
  </font><font color="#5a5a5a">;if file-exists? &quot;IndiAna7.csv&quot;</font><font color="#000000">
    </font><font color="#5a5a5a">;  [ file-delete &quot;IndiAna7.csv&quot;]</font><font color="#000000">
    </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> [create-filesShort] 

</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> create-filesShort
</font><font color="#5a5a5a">;; create the file and give the first row column headings</font><font color="#000000">
</font><font color="#0000aa">let</font><font color="#000000"> spacer </font><font color="#963700">&quot;,&quot;</font><font color="#000000">
</font><font color="#0000aa">file-open</font><font color="#000000"> </font><font color="#963700">&quot;Indi.2runsSHORT.csv&quot;</font><font color="#000000">
</font><font color="#0000aa">file-print</font><font color="#000000">  (</font><font color="#660096">list</font><font color="#000000"> 
  </font><font color="#963700">&quot;BSRunNum&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;ticks&quot;</font><font color="#000000"> spacer 
  </font><font color="#963700">&quot;Who&quot;</font><font color="#000000"> spacer 
  </font><font color="#963700">&quot;Breed&quot;</font><font color="#000000"> spacer         
  </font><font color="#963700">&quot;TotalCostPeracre&quot;</font><font color="#000000"> spacer   
  
  </font><font color="#963700">&quot;SalesPriceSGPeracre&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;SalesPriceBasePperacre&quot;</font><font color="#000000">  spacer
  
 
  </font><font color="#963700">&quot;PotentialRevenues&quot;</font><font color="#000000"> spacer       
                
  </font><font color="#963700">&quot;SGHarvested&quot;</font><font color="#000000"> spacer              
  </font><font color="#963700">&quot;SGRevenues&quot;</font><font color="#000000"> spacer
  
  </font><font color="#963700">&quot;ageOfFarmer&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;riskAversion&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;FamiliarityWithSG&quot;</font><font color="#000000">  spacer     
  
  </font><font color="#963700">&quot;OnTheFence&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;mindchanged&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;InterestScore&quot;</font><font color="#000000"> spacer          
  </font><font color="#963700">&quot;Happy&quot;</font><font color="#000000"> spacer                        
  </font><font color="#963700">&quot;Rep&quot;</font><font color="#000000"> spacer
                                
               
  
  </font><font color="#963700">&quot;PlantSG&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;InitialPercentOfPlanting&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;MyPercentIncrease&quot;</font><font color="#000000"> spacer      
  </font><font color="#963700">&quot;PercentOfPlanting&quot;</font><font color="#000000"> spacer        
  
  </font><font color="#963700">&quot;MyAreaPlanted&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;InfRadius&quot;</font><font color="#000000"> spacer
  </font><font color="#963700">&quot;ComShock&quot;</font><font color="#000000">  spacer
  </font><font color="#963700">&quot;learn&quot;</font><font color="#000000">     spacer
   </font><font color="#963700">&quot;Priceshock&quot;</font><font color="#000000"> spacer
   </font><font color="#963700">&quot;education&quot;</font><font color="#000000"> spacer
   </font><font color="#963700">&quot;computer_use&quot;</font><font color="#000000"> spacer
   </font><font color="#963700">&quot;successor&quot;</font><font color="#000000">                      
        


 )
</font><font color="#5a5a5a">;file-newline </font><font color="#000000">
 
</font><font color="#0000aa">file-close</font><font color="#000000">
export-filesShort
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> export-filesShort
</font><font color="#5a5a5a">;; write the information to the file</font><font color="#000000">
</font><font color="#0000aa">let</font><font color="#000000"> spacer </font><font color="#963700">&quot;,&quot;</font><font color="#000000">
</font><font color="#0000aa">file-open</font><font color="#000000"> </font><font color="#963700">&quot;Indi.2runsSHORT.csv&quot;</font><font color="#000000">
</font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> [</font><font color="#0000aa">file-print</font><font color="#000000">
  
 (</font><font color="#660096">list</font><font color="#000000"> 
   </font><font color="#660096">behaviorspace-run-number</font><font color="#000000"> spacer
  </font><font color="#660096">ticks</font><font color="#000000"> spacer 
 </font><font color="#660096">who</font><font color="#000000"> spacer 
 </font><font color="#660096">breed</font><font color="#000000"> spacer                 
  Total_cost_peracre spacer   
  
  Sales_price_SG_peracre spacer
  Sales_price_Base_peracre  spacer
 
  Potential_revenues spacer       
          
  SG_harvested spacer              
  SG_revenues spacer
 
  age_of_farmer spacer
  risk_aversion spacer
  Familiarity_with_SG  spacer     
  
  On_the_fence? spacer
  mindchanged? spacer
  Interest_score spacer          
  Happy? spacer                        
  Rep? spacer
            
  
  Plant_SG? spacer
  Initial_Percent_of_planting spacer
  My_percent_increase spacer      
  Percent_of_planting spacer        
 
  My_area_planted spacer
  influence_radius spacer
  commodity_shock? spacer
  learn? spacer
  Price_shock? spacer
  education spacer
  computer_use? spacer
  successor?                                 
                 

)
   
   
   ] 
</font><font color="#0000aa">file-close</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000"> 


</font><font color="#5a5a5a">;; makes a movie of the model; stops when there are 3000 turtles</font><font color="#000000">
</font><font color="#5a5a5a">;; and exports movie to a file</font><font color="#000000">
</font><font color="#007f69">to</font><font color="#000000"> make-movie

  </font><font color="#5a5a5a">;; prompt user for movie location</font><font color="#000000">
  </font><font color="#0000aa">user-message</font><font color="#000000"> </font><font color="#963700">&quot;First, save your new movie file (choose a name ending with .mov)&quot;</font><font color="#000000">
  </font><font color="#0000aa">let</font><font color="#000000"> path </font><font color="#660096">user-new-file</font><font color="#000000">
  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> </font><font color="#660096">is-string?</font><font color="#000000"> path [ </font><font color="#0000aa">stop</font><font color="#000000"> ]  </font><font color="#5a5a5a">;; stop if user canceled</font><font color="#000000">

  </font><font color="#5a5a5a">;; run the model</font><font color="#000000">
  setup
  </font><font color="#0000aa">movie-start</font><font color="#000000"> path
  </font><font color="#0000aa">movie-grab-view</font><font color="#000000">
  </font><font color="#0000aa">while</font><font color="#000000"> [ </font><font color="#660096">count</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">3000</font><font color="#000000"> ]
    [ go
      </font><font color="#0000aa">movie-grab-view</font><font color="#000000"> ]

  </font><font color="#5a5a5a">;; export the movie</font><font color="#000000">
  </font><font color="#0000aa">movie-close</font><font color="#000000">
  </font><font color="#0000aa">user-message</font><font color="#000000"> (</font><font color="#660096">word</font><font color="#000000"> </font><font color="#963700">&quot;Exported movie to &quot;</font><font color="#000000"> path)
</font><font color="#007f69">end</font><font color="#000000">





</font><font color="#007f69">to</font><font color="#000000"> update-movie
  </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">movie-status</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;No movie.&quot;</font><font color="#000000">
  [</font><font color="#0000aa">let</font><font color="#000000"> filename (</font><font color="#660096">word</font><font color="#000000"> </font><font color="#963700">&quot;insert-file-name-here.mov&quot;</font><font color="#000000">)
    </font><font color="#0000aa">movie-start</font><font color="#000000"> filename]
  [</font><font color="#0000aa">ifelse</font><font color="#000000"> capture-node </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;entire interface&quot;</font><font color="#000000">
    [</font><font color="#0000aa">movie-grab-interface</font><font color="#000000">]
    [</font><font color="#0000aa">movie-grab-view</font><font color="#000000">]]
</font><font color="#007f69">end</font><font color="#000000"> </font>
</pre>

</body>
</html>
